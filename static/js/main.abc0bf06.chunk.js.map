{"version":3,"sources":["img/React-Algo-logo.png","Utils/history.js","Utils/helpers.js","actions/index.js","actions/types/index.js","useResizeObserver/index.js","components/d3/Selections/selections-helpers.js","components/d3/Selections/selections.js","components/d3/StackLL/stackLL-helpers.js","components/AlgoSVG.js","components/d3/StackLL/index.js","components/d3/StackLL/actions/index.js","components/d3/StackLL/actions/types/index.js","components/d3/Stepper/actions/index.js","components/d3/Stepper/actions/types/index.js","components/d3/AVLTree/steps/step-helper.js","components/d3/AVLTree/steps/insert.js","components/d3/AVLTree/steps/balance.js","components/d3/AVLTree/steps/delete.js","components/d3/AVLTree/steps/stepper.js","components/d3/AVLTree/AVLTreeDS.js","components/d3/AVLTree/AVLTreeDS-helpers.js","components/d3/AVLTree/actions/index.js","components/d3/AVLTree/actions/types/index.js","components/Gears.js","components/d3/AVLTree/index.js","components/Links.js","reducer/index.js","components/d3/Stepper/reducer/index.js","components/d3/StackLL/reducers/index.js","components/d3/StackLL/reducers/stackLLReducer.js","components/d3/AVLTree/reducers/avlTreeReducer.js","components/d3/AVLTree/reducers/index.js","components/d3/App.js","index.js"],"names":["module","exports","createBrowserHistory","arrayOrObject","f1","f2","collection","a","Array","isArray","constructor","name","isObjectB","length","Object","keys","empty","getKeys","firstAndRest","key","firstObjectsKey","item","rest","first","slice","consOnArray","objToArray","obj","map","d","reduce","args","f","val","result","isColl","x","thread","type","exprs","acc","curr","pageChange","dispatch","payload","useResizeObserver","ref","useState","dimensions","setDimensions","useEffect","observeTarget","current","resizeObserver","ResizeObserver","entries","forEach","entry","contentRect","observe","unobserve","genCurvePath","startX","startY","endX","endY","curve","adjX","adjY","cx2","cy1","cy2","gapX","gapY","initPoint","entryPoint","nodePoint","y","markAsFirstB","id","firstNodeB","end","step","stepsCompletedB","paused","steppedPass2B","nodeStrokeColor","nodeStrokeSize","topNodeB","top","nodeValueLocation","nodeLocationOnEnter","stepSmallerThanEnd","nodeLocationOnUpdate","linkLocationOnUpdate","source","target","linkLocationOnExit","stepEqualsEnd","pointAtInit","pointAtNext","pointAtLastNode","headPathCoords1","headPathCoords2","nodeCount","linkLocationOnEnter1","initToNext","linkLocationOnEnter2","nodeToNode","t","rectClass","status","stepped","last","enterNode","shape","selection","node","append","attr","getId","D","transition","duration","text","getIndex","height","leftHeight","rightHeight","select","index","updateNode","value","exitNode","remove","enterLinkPath","updateLinkPath","exitLinkPath","enterLineLink","x1","y1","x2","y2","updateLineLink","exitLineLink","showSelection","svg","graph","nodes","links","nodeType","linkType","head","headData","data","updateHead","sourceIndex","targetIndex","getTopInfo","createLink","selectAll","join","addLineLinks","addPathLinks","enterNodeType","updateNodeType","exitNodeType","addNodes","widthSpaceLeft","width","genNodesRecursive","dataSize","H","xOffset","dim","xOffsetF","nodeData","createNode","size","xOfNodeC","yOffset","Math","floor","yOfNodeC","getlastNode","AlgoSVG","props","className","ref1","in","dx","dy","stdDeviation","in2","mode","markerWidth","markerHeight","refX","refY","cx","cy","r","fill","stroke","orient","style","transform","connect","state","push","getState","input","stackLLInputs","pop","e","stackLL","undefined","clearAll","textChanged","currentTarget","updateStep","forward","paylaod","backward","pause","bufferedData","startIndex","max","updates","updateNodes","update","page","setSelection","useRef","wrapperRef","stepBuffer","direction","setPaused","refForward","refBackward","refPaused","refPage","devPaused","H2","i","getStepBuffer","triggerTextChanged","inputValue","stepBackDisabled","inputText","placeholder","class","autoComplete","onChange","disabled","onClick","appendToStepBuffer","setTimeout","buffer","lastInStepBuffer","bufferLength","lastNode","stepForwardDisabled","AVLNode","this","leftChild","rightChild","balanceFactor","deleteOK","deleteStep","dSteps","col","row","leftSide","rightSide","isLeaf","root","findRoot","insert","__insert","calcHeight","left","right","isLeftHeavy","isRightHeavy","leftRotate","updateRoot","newRoot","rightRotate","balance","clearPath","focus","clearRoot","calcSides","setLeaf","bFactor","hashToArray","insertWithoutBalance","arr","c","cleanUpResult","msg","done","active","taskDone","__balanceInsert","stepHelper","balanceInsertNodes","objNodes","exist","balanceInsert","stepInsert","__stepInsert","message","newMsg","newDone","newStep","stepOutput","__stepBalanceTree","endNode","rootValue","newUpStep","tempRoot","inputMsg","doneWithPrev","mainRoot","stepBalanceRoot","stepBalance","taskCompleted","__deleteNode","troot","deleteData","focusNode","isItAtLeftChild","parent","getTargetAndParent","side","deleteValue","deleteIndex","copyRoot","p","replacement","replacementParent","getReplacementNode","stepDelete","duplicateRoot","hashNodes","history","stepIndex","array","record","focusValue","modeStep","console","log","filter","balanceStepper","nodesWithoutLast","Insert","Balance","compactHistory","newHistory","idx","maxIndex","steps","avl","stepNumber","frontNodes","stepHistory","insertStepper","Delete","delete","deleteStepper","AVLTreeDS","mem","isMainRoot","__checkForInbalanceWS","list","stop","insertPathWS","tempStep","tempRepeat","__getStepsCheckForInbalance","__getStepsForbalanceWithInput","__checkForInbalance","insertPath","insertWithSteps","insertPathNodes","__insertWithSteps","__nodesAtDistance","distance","nodesAtDistance","__traverseLevelOrder","start","traverseLevelOrder","h","__deleteNodes","deletes","deleteNode2","deleteNodes","theta","o","atan","adjacent","cos","opposite","sin","radiusPoints","theta1","theta2","__times","n","branceToBrace","xNodeToNode","yNodeToNode","currentIndex","currentStep","syncStep","totalSteps","repeat","memoizedSteps","action","prevAction","insertRefStep","balanceRefStep","deleteRefStep","isLast","parentX","isMainRoot2","parentY","__calcX","__calcY","__position2","getTreeHeight","xFromDimensions","yFromDimensions","updateTree","__calcHeight","__calcSides2","steppped","__height","leftAndRight","__calcSides","balanceStep","bRoot","bStep","bNewRepeat","__balanceWithInput","balanceWS","__balanceWithInputWS","getStepsForbalance","newSteps","getInsertSteps","clearLast","__traverseInOrder","genAVLTreeWithStep","deleted","nodesToArray","getDeletedNodes","__simplify","genAVLTree","child","genLinks","replacdNode","stepping","position","getNodesInOrder","nodesSortedByIndex","sort","b","genAVLTreeLinks","__proto__","__rootInsert","rootInsert","nodeProperties","dispatchPayload","updateHistory","_avlBalance","mainStep","prevMode","updatedHistory","balanceUpdate","Gears","viewBox","strokeWidth","attributeName","from","to","begin","dur","Component","canInsert","isNaN","avlInsert","insertButtonPressed","insertUpdate","avlDelete","deleteUpdate","avlBalance","newValue","avlSetMode","updateMode","deleteTextChanged","canDelete","targetExist","toggleStepping","stepper","selectedIndex","stepRoot","stepUp","newStepIndex","stepDown","avlTree","avlTreeInputs","upButton","downButton","stepMessage","deleteButtonPressed","tree","updateTree2","inputLength","toString","errors","el","err","displayStatus","Links","fontFamily","fontSize","textDecoration","padding","linkStyle","pageName","borderBottomColor","cssClass","handleLink","reduceAction","reducedTabel","PAUSE","FORWARD","BACKWARD","UPDATE_STEP","boxes","stepperResult","inputData","reset","dsName","taskComplete","inputsDisabled","insertDisabled","deleteDisabled","mainReducer","combineReducers","pageReducer","stackLLReducer","avlTreeReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","App","loading","setState","location","pathname","path","exact","component","NodeLink","AVLTree","React","ReactDom","render","src","logo","alt","href","document","querySelector"],"mappings":"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","file":"static/js/main.abc0bf06.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","import  createBrowserHistory from 'history/createBrowserHistory';\n\nexport default createBrowserHistory();\n\n","export const compose = (f, g) => x => f(g(x));\nexport const pipe = (f, g) => x => g(f(x));\nexport const isArrayB = a => Array.isArray(a);\n// export const isObjectB = a => a.constructor.name === 'Object'\nexport const isObjectB = a => a.constructor.name !== 'Number' && a.constructor.name !== 'String' && a.constructor.name !== 'Array'\nexport const arrayOrObject = (f1, f2) => collection => {\n    if(collection){\n        if(isArrayB(collection)) {\n            return f1(collection)\n        } else \n        if(isObjectB(collection)) {\n            return f2(collection)\n        } \n    }\n}    \nexport const lenghtOnObject = collection => Object.keys(collection).length\nexport const lengthOnArray = collection => collection.length\nexport const length = arrayOrObject(lengthOnArray, lenghtOnObject)\nexport const isArrayEmptyB = collection => collection.length === 0; \nexport const isObjectEmptyB = collection => Object.keys(collection).length === 0;\nexport const isUndefined = a => a === undefined\n// export const arrayOrObjectB = (f1, f2) => arrayOrObject(f1, f2) ? true : false\nexport const empty = arrayOrObject(isArrayEmptyB, isObjectEmptyB) \nexport const getKeys = collection => collection ? Object.keys(collection) : []\nexport const firstArrayItem = collection => collection[0] \nexport const firstObjectsKey = collection => getKeys(collection)[0]\nexport const firstAndRestOnArray = collection => {\n    const [first, ...rest] = collection\n    return [first, rest]\n}\nexport const firstAndRestOnObject = collection => {\n    const key = firstObjectsKey(collection)\n    const {[key]: item, ...rest} = collection;\n    return [[key,item], rest]\n}\n\nexport const firstObjectItem = collection => {\n    const keys = getKeys(collection)\n    const key = keys[0];\n    return [key, collection[key]];\n} \nexport const firstAndRest = arrayOrObject(firstAndRestOnArray, firstAndRestOnObject)\n\nexport const first = arrayOrObject(firstArrayItem, firstObjectItem) // ???\n\nexport const last  = collection => collection[collection.length-1];\n\nexport const restOnArray = collection => collection.slice(1);\nexport const restOnObject = collection => firstAndRest(collection)[1] // ???\nexport const rest = collection => collection.slice(1);\n\nexport const consOnArray  = (item, collection) => [item, ...collection];\nexport const consOnObject = (item, collection) => ({...collection, ...item})\nexport const cons = arrayOrObject(consOnArray, consOnObject) \n\nexport const objToArray = obj => Object.keys(obj).map(d=>obj[d])\nexport const copyNodes = (nodes) => {\n    if(empty(nodes)) return {}\n    \n    const keys = getKeys(nodes)\n    const key = keys[0];\n    const {[key]: item, ...rest} = nodes;\n\n    return {[key]: item, ...copyNodes(rest) }\n}\n\nexport const updateNodes = (nodes, update) => {\n    if(empty(nodes)) return {}\n    \n    const keys = getKeys(nodes)\n    const key = keys[0];\n    const {[key]: item, ...rest} = nodes;\n    return {[key]: {...item, ...update}, ...updateNodes(rest, update) }\n}\n\nexport const map = (f, collection) => {\n    if(empty(collection)){\n        return []\n    } \n\n    const firstItem = first(collection);\n    const result = f(firstItem);\n\n    return cons( result, map( f, rest(collection) ) )\n    \n} \n\nexport const filter = (f, collection) => {\n    if(empty(collection)) return[]\n\n    const firstItem = first(collection);\n    \n    if(f(firstItem)) {\n        return  cons( firstItem, filter(f, rest(collection)) )\n    } else {\n        return filter(f, rest(collection))\n    }\n}\n\n// export const reduce = (f, collection, val) => {\n \n//     if(empty(collection)) return val;\n\n//     const item = first(collection);\n\n//     if( typeof val === \"undefined\") return reduce(f, rest(collection), item)\n    \n//     const result = f(val, item);\n//     return reduce(f, rest(collection), result);\n\n// }\nexport const reduce = (...args) => {\n    const [f, collection, val] = args\n \n    if(empty(collection)) return val;\n\n    const item = first(collection);\n\n    if( args.length < 3) return reduce(f, rest(collection), item)\n    \n    const result = f(val, item);\n    return reduce(f, rest(collection), result);\n\n}\n\nexport const plus = (...args) => {\n    return reduce((acc, curr) => acc + curr, args, 0);\n}\n\nexport const map_reduced = (f, collection) => {\n    return reduce((acc, curr) => {\n        return [ ...acc, f(curr) ]\n    }, collection, []);\n}\n\nexport const filter_reduced = (f, collection) => {\n    return reduce( (acc, curr) => {\n        if(f(curr)){\n            return [...acc, curr];\n        } else {\n            return acc;\n        }\n    }, collection, []);\n}\n\nconst zero = n => n === 0;\nconst dec = n => n - 1;\n\nconst repeat = (a, b) => {\n\n    if(zero(a)) return [];\n\n    return cons( b, repeat(dec(a), b) );\n\n}\n\nconst times = (a, b) => {\n    return reduce(plus, repeat(a, b), 0);\n}\n\nconst iterate = (f, x, n) => {\n    if(zero(n)) return []\n\n    return cons(x, iterate(f, f(x), dec(n)));\n}\n\nexport const identity = x => x;\n\nexport const repeat_iterated = (a, b) => {\n\n    return iterate(identity, b, a)\n\n}\n\nconst reverse = collection => reduce((acc, curr) => [curr, ...acc], collection, []);\n\nconst count = collection => collection.length;\n\nconst inc = n => n + 1;\n\nconst mapMany = (f, ...collections) => {\n   if(empty(first(collections))) return [];\n\n   const vals = map(first, collections);\n   const result = f(...vals);\n\n   return cons(result, mapMany(f, ...map(rest, collections)));\n}\n\nexport const toDecimal = (base, digits) => {\n    const reverseDigits = reverse(digits);\n    const implicitValues = map(x=>Math.pow(base, x), iterate(inc, 0, count(reverseDigits)) );\n\n    return reduce(plus, mapMany(times, reverseDigits, implicitValues))\n}\n\nexport const toDecimalRecursive = (\n    base, \n    digits, \n    result = 0, \n    exp = dec(count(digits))\n    ) => {\n\n        if(empty(digits)) return result;\n\n        const digit = first(digits);\n        const new_result = result + digit * Math.pow(base, exp);\n\n        return toDecimalRecursive(base, rest(digits), new_result, dec(exp))\n\n}\n\nconst isColl = x => Array.isArray(x);\n\nconst thread = type => {\n    return (val, ...exprs) => {\n        return reduce((acc, curr) => {\n            if(isColl(curr)) {\n                const [f, ...args] = curr;\n                \n                if(type === 'first') return f(acc, ...args);\n\n                return f(...args, acc);    \n            } \n    \n            return curr(acc);\n    \n        }, exprs, val)\n    }\n}\n\nexport const _  = thread('first')\nexport const __ = thread('last')\n\nconst get = (item, key) => item[key]\n\nconst assoc = (item, key, val) => {\n    if(isColl(item)) {\n        return [...item, {[key]: val}]\n    }\n    return {...item, [key]: val }\n}\n\nexport const update = (item, key, f, ...args) => {\n    return assoc(item, key, f(get(item, key), ...args));\n}\n\nexport const runtime = (f) => {\n    const start = Date.now()\n\n    const result = f()\n\n    const end = Date.now()\n\n    return {result, time: end - start}\n}","import * as TYPES from './types'\n\nexport const pageChange = (name) => (dispatch) => {\n    dispatch({type: TYPES.PAGE_CHANGE,  payload: name})\n} ","export const PAGE_CHANGE = 'PAGE_CHANGE'","import { useState, useEffect } from 'react'\n\nconst useResizeObserver = ref => {\n    const [dimensions, setDimensions] = useState();\n    useEffect(() => {\n        const observeTarget = ref.current;\n        const resizeObserver = new ResizeObserver(entries => {\n            entries.forEach(entry => {\n                setDimensions(entry.contentRect)\n            })\n        })\n        resizeObserver.observe(observeTarget)\n        return () => {\n            resizeObserver.unobserve(observeTarget);\n        }\n    },[ref])\n    return dimensions; \n}\n\nexport default useResizeObserver;","export const genCurvePath = (startX, startY, endX, endY) => {\n    \n    let curve = '';\n    if(startX > endX && startY > endY  ) {\n\n        const adjX = startX - endX;\n        const adjY = (startY - endY)/4;\n           \n        const cx1 = startX - adjX;\n        const cx2 = endX   + adjX;\n        \n        const cy1 = startY + adjY;\n        const cy2 = endY   - adjY;\n        \n        curve = `${cx1}, ${cy1} ${cx2}, ${cy2}`\n        \n    } else {\n        \n        const gapX = ((startX - endX)/3) *-2;\n        const gapY = (startY - endY)/-2;\n        curve =` ${startX - gapX }, ${startY + gapY} ${endX + gapX}, ${endY - gapY}`;\n\n    }\n\n    const pd = `M${startX} ${startY} C ${curve} ${endX}, ${endY}`;\n    return   pd;\n}\n\nexport const initPoint   = () => `translate(${ 250 }, ${  50 } )`;\nexport const entryPoint  = () => `translate(${ 250 }, ${ -50 } )`;\nexport const nodePoint   = d  => `translate(${ d.x }, ${ d.y } )`;\nexport const firstNodeB   = d  => d.id === 'node-0';\nexport const stepsCompletedB = d => d.end === d.step;\nexport const steppedPass2B = d => d.paused && d.step > 2;\nexport const markAsFirstB  = d => ( firstNodeB(d) && ( stepsCompletedB(d) || steppedPass2B(d) ) )\nexport const stepSmallerThanEnd = d => d.step >= 0 && d.step < 3;\n// export const nodeStrokeColor = d => markAsFirstB(d) ? 'darkorange' : 'white';\nexport const nodeStrokeColor = d => markAsFirstB(d) ? '#3c3f58' : 'white';\nexport const nodeStrokeSize  = d => markAsFirstB(d) ? 4 : 1;\nexport const topNodeB = d => d.paused && d.top;\nexport const nodeValueLocation = d => topNodeB(d) && d.step < 1 && d.step !== d.end ? `translate(${-250}, ${-220})` : `translate(${0}, ${0})`\nexport const nodeLocationOnEnter = d => {\n    if( topNodeB(d) && stepSmallerThanEnd(d) ){\n        return initPoint();\n    } else {\n        return nodePoint(d);\n    }   \n}\nexport const nodeLocationOnUpdate = d => {\n    if(d.top && d.step === 0 && d.end > 0){\n        return initPoint();\n    } else if(d.top && d.step > 0 && d.step < 3 ){\n        return initPoint();\n    } else {\n        return nodePoint(d);\n    }   \n}\n\nexport const linkLocationOnUpdate = d => {\n    if(d.step > 1 && d.step < 3 && d.end > 0){\n        return genCurvePath( d.source.x-30, d.source.y, 250+30, 50) \n    }\n    if(d.step >= 0 && d.step < 2 && d.step !== d.end) return ''\n\n    return genCurvePath( d.source.x-30, d.source.y, d.target.x+30, d.target.y) \n}\nexport const linkLocationOnExit = d => {\n    if(d.step === d.end){\n        return genCurvePath(d.target.x-30, d.target.y, 250+30, 50) \n    }\n    return '';\n}\nconst stepEqualsEnd = d => d.end === d.step;\nconst paused = d => d.paused;\nconst pointAtInit = d => genCurvePath( 250-80, 50-30, d.source.x, d.source.y  ); \nconst pointAtNext = d => genCurvePath(  d.target.x-65+80, d.target.y-30, d.source.x, d.source.y); \nconst pointAtLastNode = d => genCurvePath(  d.target.x-65, d.target.y-30, d.source.x, d.source.y );\nconst initToNext = d => genCurvePath(d.target.x+80-30, d.target.y, 250+30, 50);\nconst nodeToNode = d => genCurvePath( d.source.x-30, d.source.y, d.target.x+30, d.target.y);\n\n\nexport const headPathCoords1 = d => {\n     if(((d.step === 2 && d.end > 0) || (stepEqualsEnd(d) && !paused(d))) && d.target){\n         return  pointAtInit(d) \n    } else if( d.step < 2  && d.target.id !== \"node-0\" ){\n         return  pointAtNext(d) \n    } \n    else{\n        if(d.step > 1) return  pointAtLastNode(d) \n    }\n    return ''\n}\nexport const headPathCoords2 = d => {\n    if((!(d.step< 2 && d.nodeCount === 1) || stepEqualsEnd(d))&& d.target ){\n        if( d.step === 2 && paused ){\n             return  pointAtInit(d) \n        }else\n        if( d.step < 2){\n             return  pointAtNext(d) \n        } else {\n            // Pont to node after last node's position\n            return  pointAtLastNode(d) \n        }    \n    }        \n    return ''\n}\nexport const linkLocationOnEnter1 = d => d.step !== 0 ? initToNext(d) : ''\nexport const linkLocationOnEnter2 = d => d.step !== 0 ? nodeToNode(d) : ''\n","import { select } from 'd3-selection'\n\n// uncomment this to enable node hints\n// import prettyFormat from 'pretty-format'\n\nimport * as D from './selections-helpers'\n\nconst t = 400;\n\nconst getTopInfo = (index, nodes) => {\n    if(index === nodes.length-1){\n        const {step, end} = nodes[index]\n        return {\n            nodeCount: nodes.length,\n            step: step,\n            end:  end,\n            top: true\n        }\n    }\n    return {}\n}  \n\nconst createLink = (sourceIndex, targetIndex, nodes, paused) => {\n   \n    let source = {}\n    if(sourceIndex < 0){\n        source.x = 40;\n        source.y = 20;\n    } else {\n        source = nodes[targetIndex];\n    }\n    const target = nodes[targetIndex];\n\n    return  {\n        index: sourceIndex,\n        id: `[${sourceIndex}]->[${targetIndex}]`,\n        source,\n        target,\n        value: 0.1,\n        paused,\n        \n        ...getTopInfo(targetIndex, nodes)\n    }\n\n}\n\nconst updateHead = (headData, x=40, y=30) => {      \n    const data = [headData]\n\n    const head = //initHead()\n     select('.head')\n            .attr('transform', `translate(${x},${y})`)\n            .select('.head-shape')\n                .attr('width', '40px')        \n                .attr('height', '40px')        \n                .attr('stroke', '#43455c')\n                .attr('stroke-width', '4')\n                .attr('fill', '#3c3f58')\n                .attr('rx', '5px');\n\n     \n    if( headData.paused && headData.step > 1 ){\n        head\n            .transition()\n                .duration(t)\n                .attr('rx', '45px')\n                .attr('stroke', 'white')\n                .attr('stroke-width', 1)\n    }                \n    \n    select('.head-path')\n        .data(data)\n        .attr('fill', 'transparent')\n        .attr('stroke', '#8489c1')\n        .attr('marker-start', 'url(#mP2)')\n        .transition()\n        .duration(t)\n        .attr('d', D.headPathCoords1)\n    .transition()\n        .duration(t)\n        .attr('marker-start','url(#mP)')\n        .attr('d', D.headPathCoords2);\n      \n}\n\nfunction rectClass(d) {\n    \n    if (d.status !== ''){\n        return d.status;\n    }else\n    if (d.stepped) {\n        return 'stepped';\n    } else \n    if (d.last) {\n        return 'last';\n    } else {\n        return ''\n    }\n}\n\nconst nodeShape = 'rect'\nconst enterNode = (shape='rect') => (selection ) => {\n    const node = selection.append('g')\n        .attr('id', getId)\n        .attr('class', d=>d.top ? \"node top\" : \"node\")\n        .attr('transform', d => `translate(${ 0 }, ${ -50 } )`);\n    \n    if (shape === 'rect'){\n        node\n            .attr('transform', D.entryPoint)\n            .transition()\n            .duration(t)\n            .attr('transform', D.initPoint)\n            .transition()\n            .duration(t)\n            .attr('transform', d =>  D.nodeLocationOnEnter(d)  )\n    }else{\n        node\n            .transition()\n            .duration(t)\n            .attr('transform', d=> {\n                       return  D.nodePoint(d)\n                    }\n                )\n    }    \n\n    if(nodeShape === 'circle'){\n        node.append('circle')\n            .attr('r', 25)\n            .attr('fill', 'pink')\n            .attr('fill', 'transparent');\n    }   else {\n        node.append('rect')\n            .attr('class', rectClass)\n            .attr('stroke', d=>d.stepped ? 'yellow' : 'white')\n            .attr('width', '50px')\n            .attr('height', '50px')\n            .attr('fill', 'pink')\n            .attr('rx', ()=>shape === 'rect' ? '10px' : '45px' )\n            .attr('transform', 'translate(-25, -25)')\n            .attr('fill', 'transparent');\n    } \n    if(shape === 'rect'){\n        node.append('text')\n            .attr('class', 'index')\n            .text(getIndex)\n            .attr('text-anchor', 'middle')\n            .attr('y', '40px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.8rem')\n            .attr('fill', '#6c78b3');\n\n        node.append('text')\n            .attr('class','value')\n            .text(d=>d.val)\n            .attr('text-anchor', 'middle')\n            .attr('y', '5px')\n            .attr('font-family', 'sans')\n            .attr('fill', 'white')  \n            .attr('transform', D.nodeValueLocation);\n\n\n    } else {\n\n        node.append('text')\n            .attr('class','height')\n            .text(d=>d.height)\n            .attr('text-anchor', 'middle')\n            .attr('y', '-14px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.6rem')\n            .attr('fill', '#6c78b3'); \n            \n        node.append('text')\n            .attr('class','left')\n            .text(d=>d.leftHeight)\n            .attr('text-anchor', 'middle')\n            .attr('y', '15px')\n            .attr('x', '-14px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.6rem')\n            .attr('fill', '#6c78b3');     \n\n        node.append('text')\n            .attr('class','right')\n            .text(d=>d.rightHeight)\n            .attr('text-anchor', 'middle')\n            .attr('y', '15px')\n            .attr('x', '14px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.6rem')\n            .attr('fill', '#6c78b3');     \n\n        node.append('text')\n            .attr('class','value')\n            .text(d=>d.val)\n            .attr('text-anchor', 'middle')\n            .attr('y', '5px')\n            .attr('font-family', 'sans')\n            .attr('fill', 'white')  \n            .attr('font-size', '0.8rem');\n\n        /* uncomment to display node index*/ \n        // node.append('text')\n        //     .attr('class','index')\n        //     .text(d=>d.index)\n        //     .attr('text-anchor', 'middle')\n        //     .attr('y', '40px')\n        //     .attr('font-family', 'sans')\n        //     .attr('fill', 'white')  \n        //     .attr('font-size', '0.8rem');\n \n    }\n\n    // node.append('title')\n    //     .text(d => prettyFormat(d))    \n\n\n    selection.select('#node-0 rect')\n        .transition()\n        .duration(t)\n        .attr('stroke', D.nodeStrokeColor )    \n        .attr('stroke-width', D.nodeStrokeSize )      \n\n}\n\nfunction getId(d){\n    return `node-${d.index}`\n}\nfunction getIndex(d){\n    return d.index\n}\n\nconst updateNode = (shape='rect') => selection => {\n \n\n    selection.select('rect')\n        .attr('class', rectClass )\n        .attr('stroke', d=>d.stepped ? 'yellow' : 'white');\n\n        \n    if(shape === 'rect'){\n        selection\n            .attr('class', d=>d.top ? \"node top\" : \"node\")\n            .transition()\n            .duration(t)\n            .attr('transform', d => {\n                return D.nodeLocationOnUpdate(d)\n            })\n\n        selection.select('.top text.value')\n            .text(d=>d.value)\n            .attr('fill', 'white')\n            .transition()\n            .attr('transform', D.nodeValueLocation);\n\n        selection.select('text.index')\n            .text(getIndex)\n            .attr('fill', '#6c78b3');  \n    }else{\n\n        selection\n            .attr('id', getId)    \n            .transition()\n            .duration(t)\n            .attr('transform', d => {\n                return D.nodePoint(d)\n            })\n\n        selection.select('text.value')\n            .text(d=>d.value)\n            .attr('fill', 'white')\n            .transition()\n\n\n        selection.select('text.height')\n            .text(d=>d.height)\n            .attr('text-anchor', 'middle')\n            .attr('y', '-14px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.6rem')\n            .attr('fill', '#6c78b3'); \n            \n        selection.select('text.left')\n            .text(d=>d.leftHeight)\n            .attr('text-anchor', 'middle')\n            .attr('y', '15px')\n            .attr('x', '-14px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.6rem')\n            .attr('fill', '#6c78b3');     \n\n        selection.select('text.right')\n            .text(d=>d.rightHeight)\n            .attr('text-anchor', 'middle')\n            .attr('y', '15px')\n            .attr('x', '14px')\n            .attr('font-family', 'sans')\n            .attr('font-size', '0.6rem')\n            .attr('fill', '#6c78b3');     \n\n    }\n\n    // selection.select('title')\n    //     .text(d => prettyFormat(d))    \n    \n    // make first node the end node    \n    selection.select('#node-0 rect')\n        .transition()\n        .duration(t)\n        .attr('stroke', D.nodeStrokeColor)    \n        .attr('stroke-width', D.nodeStrokeSize)   \n}\n\nconst exitNode = (shape='rect') => selection => {\n    if((shape==='rect') ){\n        selection\n            .transition()\n                .duration(t)\n                .attr('transform', d=> {\n                   \n                    return D.initPoint(d)\n                })\n            .transition()\n                .duration(t)\n                .attr('transform',  D.entryPoint)\n            .remove()\n    } else {\n        selection\n        .transition()\n            .duration(t)\n            .attr('transform',  D.entryPoint)\n        .remove()\n    }\n\n}\n\nconst enterLinkPath = selection => {\n    selection.append('path')\n        .attr('id', d=>`link-${d.id}`)\n        .attr('class', 'link')\n        .attr('stroke', '#8489c1')\n        .attr('stroke-width', 1)\n        .attr('fill', 'transparent')\n        .attr('marker-start', d => ((d.source.y > d.target.y)  &&\n                                    (d.source.x < d.target.x)) ? 'url(#mP)' : 'url(#mP2)' )\n        .attr('d', d => D.genCurvePath( d.target.x-35, d.target.y, 280, -50) )\n        .transition()\n            .duration(t)\n            .attr('d', D.linkLocationOnEnter1)\n        .transition()\n            .duration(t)\n            .attr('d', D.linkLocationOnEnter2)\n}\n    \nconst updateLinkPath = selection => {\n    selection.transition()\n        .duration(t)\n        .attr('marker-start', d => (d.source.y > d.target.y) ? 'url(#mP)' : 'url(#mP2)' )\n        .attr('d', D.linkLocationOnUpdate)\n}\n\nconst exitLinkPath = selection => {\n    selection\n        .transition()\n        .duration(t)\n        .attr('d', D.linkLocationOnExit)\n        .remove();\n}\n\nconst enterLineLink = selection => {\n    selection.append('line')\n        .attr('id', d=>`link-${d.id}`)\n        .attr('class', d=>`link ${rectClass(d)}`)\n        .attr('stroke', '#8489c1')\n        .attr('stroke-width', 1)\n        .attr('fill', 'transparent')\n        .attr('marker-end',  'url(#mP2)') \n        .attr('x1', d => d.x1)\n        .attr('y1', d => d.y1)\n        .attr('x2', d => d.x2)\n        .attr('y2', d => d.y2)\n        .transition()\n            .duration(t)\n            .attr('x1', d => d.x1)\n            .attr('y1', d => d.y1)\n            .attr('x2', d => d.x2)\n            .attr('y2', d => d.y2)\n        .transition()\n            .duration(t)\n            .attr('x1', d => d.x1)\n            .attr('y1', d => d.y1)\n            .attr('x2', d => d.x2)\n            .attr('y2', d => d.y2)\n}\n    \nconst updateLineLink = selection => {\n    selection.transition()\n        .duration(t)\n        .attr('class', d=>`link ${rectClass(d)}`)\n        .attr('x1', d => d.x1)\n        .attr('y1', d => d.y1)\n        .attr('x2', d => d.x2)\n        .attr('y2', d => d.y2)\n}\n\nconst exitLineLink = selection => {\n    selection\n        .transition()\n        .duration(t)\n        .attr('x1', d => d.x1)\n        .attr('y1', d => d.y1)\n        .attr('x2', d => d.x2)\n        .attr('y2', d => d.y2)\n        .remove();\n}\n\nconst addNodes = (svg, nodes, nodeType='rect') => {\n    const enterNodeType = nodeType === 'rect'\n                        ? enterNode('rect')\n                        : enterNode('circle');\n    const updateNodeType = nodeType === 'rect'\n                        ? updateNode('rect')\n                        : updateNode('circle');\n    const exitNodeType = nodeType === 'rect'\n                        ? exitNode('rect')\n                        : exitNode('circle');                    \n\n\n    svg.select('.nodes')\n        .selectAll('g.node')\n        .data(nodes, d => d.index)\n        .join(\n            enterNodeType,\n            updateNodeType,\n            exitNodeType\n        )\n}\n\nconst addPathLinks = (svg, links) => {\n    svg.select('.links')\n    .selectAll('path')\n    .data(links)\n    .join(\n        enterLinkPath,\n        updateLinkPath,\n        exitLinkPath\n    )\n}\n\nconst addLineLinks = (svg, links) => {\n    svg.select('.links')\n    .selectAll('line')\n    .data(links)\n    .join(\n        enterLineLink,\n        updateLineLink,\n        exitLineLink\n    )\n}\n\nexport const showSelection = (svg, graph) => {\n\n    const {nodes, links, paused, nodeType, linkType } = graph.current;\n    \n    if(graph.current.head){\n        // Add a head node\n        const headLink = createLink(-1, links.length, nodes, paused)\n        updateHead(headLink) \n    }\n\n\n    // Add path for every link in the dataset\n    if(linkType === 'line'){\n        addLineLinks(svg, links)\n    } else {\n        addPathLinks(svg, links)\n    }\n            \n    // Add g for every node in the dataset     \n    addNodes(svg, nodes, nodeType)\n\n}\n\n\n\n","import * as H from '../../../Utils/helpers'\n\nconst rowLength = (nodesPerRow, nodeInterval) => nodeInterval*(nodesPerRow-1);\nconst widthSpaceLeft = width => width - rowLength(4, 80);\nexport const xOffsetF = (dim = {width: 700}) => widthSpaceLeft(dim.width)/2;\n\nexport const xOfNodeC = (size, xOffset=300) => (index) => (( (((size-1) - index) % 4)          * 80 ) + xOffset)\n\nexport const yOfNodeC = (size, yOffset=200) => (index) => (( Math.floor( ((size-1)-index)/ 4)  * 80 ) + yOffset)\n\nexport const createNode = (x, y, nodeData, paused, top=false) => {\n    const key  = nodeData[0];\n    const item = nodeData[1];\n    return {\n        id: `node-${key}`,\n        value: item.value, \n        val: item.value,\n        index: key, \n        step: item.step,\n        end: item.end,\n        x, \n        y, \n        paused,\n        top\n    }\n}\n\nexport const genNodesRecursive = ( nodes, paused, dimensions, dataSize ) => {\n    \n    if(H.empty(nodes)) return []\n    \n    const xOffset = xOffsetF(dimensions)\n\n    const top = H.length(nodes) === 1;\n    \n    const [first, rest] = H.firstAndRest(nodes);\n    const key  = first[0];\n    const x = xOfNodeC(dataSize, xOffset)(key);\n    const y = yOfNodeC(dataSize)(key);\n\n    const node = createNode(x, y, first, paused, top )\n\n    return H.consOnArray(node, genNodesRecursive(rest, paused, dimensions, dataSize))\n}\n\nexport const getlastNode = (nodes) => {\n    if(nodes && !H.empty(nodes)) {\n        return nodes[nodes.length-1]\n    } \n}\n\nexport const createLink = (sourceIndex, targetIndex, nodes) => {\n    let source = {}\n\n    if(sourceIndex < 0){\n        source.x = 40;\n        source.y = 20;\n    } else {\n        source = nodes[sourceIndex];\n    }\n\n    const target = nodes[targetIndex];\n    const top = targetIndex === nodes.length-1;\n    return  {\n        index: sourceIndex,\n        id: `[${sourceIndex}]->[${targetIndex}]`,\n        source,\n        target,\n        value: 0.1,\n        top: top, \n        step: top ? target.step : 0,\n        end: top ? target.end : 0\n    }\n\n}\nexport const genLinks = nodes => nodes.reduce((a,c)=>{\n    const index = a.length;\n    if(nodes.length < 2) return [];\n    return [...a, createLink(index, index+1, nodes)]\n}, []);\n\nexport const generateNodeLinks = nodes => {\n    const links = [];\n\n    for(let i=0; i < nodes.length-1; i++){\n        links.push(\n            createLink(i, i+1, nodes)\n        )\n    }\n\n    return links;\n}","import React, { Fragment } from 'react'\n\nfunction AlgoSVG(props) {\n    const markers = () => {\n        return <Fragment>\n                    <marker id=\"mC\" markerWidth=\"5\" markerHeight=\"5\" refX=\"2.5\" refY=\"2.5\">\n                        <circle cx=\"2.5\" cy=\"2.5\" r=\"2.5\" fill=\"#6c78b3\" stroke=\"black\" />\n                    </marker>\n                    <marker id=\"mP\" markerWidth=\"20\" markerHeight=\"10\" refX=\"0\" refY=\"5\" orient=\"auto\">\n                        <path d=\"M0,5 L20,0 15,5 20,10 Z\" style={{ fill: '#6c78b3', transform: '' }} />\n                    </marker>\n                    <marker id=\"mP2\" markerWidth=\"20\" markerHeight=\"10\" refX=\"15\" refY=\"5\" orient=\"auto\">\n                        <path d=\"M0,0 L20,5 0,10 5,5 Z\" style={{ fill: '#6c78b3', transform: '' }} />\n                    </marker>\n                    <marker id=\"mP3\" markerWidth=\"20\" markerHeight=\"10\" refX=\"15\" refY=\"5\" orient=\"auto\">\n                        <path d=\"M0,0 L20,5 0,10 5,5 Z\" />\n                    </marker>\n              </Fragment>\n    }\n\n    const filters = () => {\n        return  <Fragment>\n                    <filter id=\"f2\" x=\"-2\" y=\"-2\" width=\"500%\" height=\"500%\">\n                        <feOffset result=\"offOut\" in=\"SourceGraphic\" dx=\"0\" dy=\"0\" />\n                        <feGaussianBlur result=\"blurOut\" in=\"offOut\" stdDeviation=\"10\" />\n                        <feBlend in=\"SourceGraphic\" in2=\"blurOut\" mode=\"normal\" />\n                    </filter>\n\n                    <filter id='shadow'>\n                        <feDropShadow dx=\"1.2\" dy=\"1.4\" stdDeviation=\"1\" />\n                    </filter>\n                </Fragment>\n    }\n\n    const headAndTail = () => {\n        return <Fragment>\n                    <g className=\"head\" >\n                        <path className=\"head-path\" />\n                        <rect className=\"head-shape\"></rect>\n                        <title className=\"head-path\">Head</title>\n                    </g>\n                    <g className=\"tail\" >\n                        <circle className=\"tail-shape\"></circle>\n                        <path className=\"tail-path\" />\n                        <title className=\"tail-path\">Tail</title>\n                    </g>\n               </Fragment>\n    }\n\n    const linksAndNodes = () => {\n        return <Fragment>\n                    <g className=\"links\"></g>\n                    <g className=\"nodes\"></g>\n               </Fragment>\n    }\n\n    return (\n        \n      <svg className=\"main-svg\" ref={props.ref1} width={\"100%\"} height={\"100vh\"} > \n            <defs>\n                {filters()}\n                {markers()}\n            </defs>\n            {headAndTail()}\n            {linksAndNodes()}\n        </svg>\n\n    )\n}\n\nexport default AlgoSVG\n","import React, { useRef, useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { select } from 'd3-selection'\nimport 'd3-transition'\n\nimport { push, pop, clearAll, textChanged } from './actions'\nimport { updateStep, forward, backward, pause } from '../Stepper/actions'\nimport { pageChange } from '../../../actions'\nimport useResizeObserver from '../../../useResizeObserver'\nimport { showSelection } from '../Selections/selections'\nimport * as H from '../../../Utils/helpers'\nimport * as H2 from './stackLL-helpers'\nimport AlgoSVG from '../../AlgoSVG'\nimport './stackLL.css'\n\nconst StackLLDS = (props) => {\n\n    const { stackLL, stackLLInputs, page } = props\n  \n    const [selection, setSelection] = useState(null)\n    const ref = useRef(null)\n    const wrapperRef = useRef();\n    const dimensions = useResizeObserver(wrapperRef)\n    const graph = useRef({})\n    graph.current.stepBuffer = graph.current.stepBuffer || []\n\n    const direction = useRef('')\n    const [paused, setPaused] = useState(false)\n\n    const refForward  = useRef(null)\n    const refBackward = useRef(null)\n    const refPaused   = useRef(null)\n\n    const refPage = useRef('')\n\n    useEffect(() => {\n\n        if (!selection) {\n            setSelection(select(ref.current))\n        } else {\n\n            if (!dimensions) return\n\n            const svg = selection;\n\n            let devNodes = stackLL;\n            let devPaused = paused;\n\n            const nodes = H2.genNodesRecursive(\n                devNodes,\n                devPaused,\n                dimensions,\n                H.length(devNodes)\n            )\n\n            const links = H2.generateNodeLinks(nodes);\n\n            graph.current = {\n                ...graph.current,\n                nodes, links,\n                paused: devPaused,\n                head: true\n            }\n\n            showSelection(svg, graph)\n            \n            if(refPage.current !== page.name){\n                showSelection(svg, graph)\n            }\n\n            refPage.current = page.name\n\n        }\n\n    }, [selection, stackLL, dimensions, paused, page])\n\n    const getStepBuffer = () => graph.current.stepBuffer\n    const appendToStepBuffer = node => graph.current.stepBuffer = [...getStepBuffer(), { ...node }]\n    const lastInStepBuffer = () => {\n        const buffer = getStepBuffer()\n        return buffer[buffer.length - 1]\n    }\n    const popStepBuffer = () => getStepBuffer().pop();\n    const inputValue = node => ({ name: 'value', value: node.val });\n    const triggerTextChanged = node => props.textChanged(inputValue(node))\n    const stepBufferEmpty = () => H.empty(getStepBuffer())\n    const popStackLL = () => props.pop()\n    const pushStackLL = () => props.push(true)\n\n    const stepForwardDisabled = () => {\n        const bufferLength = getStepBuffer().length\n        const lastNode = stackLL[H.length(stackLL) - 1]\n        return (bufferLength === 0 && lastNode && lastNode.step === 3) || \n               !paused ||\n               (bufferLength === 0 && H.length(stackLL) === 0)\n    }\n\n    const disableStepForwardButton = () => refForward.current.disabled = true;\n    const enableStepForwardButton = () => refForward.current.disabled = false;\n\n    const handleForward = () => {\n\n        if (paused) {\n            refForward.current.disabled = true\n\n            direction.current = 'forward'\n            const node = H2.getlastNode(graph.current.nodes);\n            disableStepForwardButton()\n            if ((!node || node.step === 3)) {\n                pushStackLL()\n                popStepBuffer()\n                if (!stepBufferEmpty()) {\n                    const node = lastInStepBuffer()\n                    triggerTextChanged(node)\n                }\n            } else {\n                props.forward(graph.current.nodes.length - 1)\n            }\n            setTimeout(() => {\n                enableStepForwardButton()\n            }, 1000)\n        }\n\n    }\n\n    const stepBackDisabled = () => H.empty(stackLL) || !paused\n\n    const disableStepBackButton = () => refBackward.current.disabled = true;\n    const enableStepBackButton = () => refBackward.current.disabled = false;\n\n    const handleBackward = () => {\n        const node = H2.getlastNode(graph.current.nodes)\n        if (!node) return;\n        disableStepBackButton()\n        if (paused && node.step === 0) {\n            appendToStepBuffer(node)\n            popStackLL()\n            triggerTextChanged(node)\n        }\n        direction.current = 'backward'\n        props.backward(graph.current.nodes.length - 1)\n        setTimeout(() => {\n            if (!stepBackDisabled()) enableStepBackButton()\n        }, 1000)\n    }\n    const handlePaused = () => {\n        setPaused(!paused);\n        props.pause(getStepBuffer())\n    }\n    const steppingStatus = () => {\n        if (paused) {\n            return 'Stepping Active'\n        }\n        return 'Enable Steps'\n    }\n    const inputText = () => {\n        if (paused && !H.empty(graph.current.stepBuffer)) {\n            return H2.getlastNode(graph.current.stepBuffer).value\n        }\n        return stackLLInputs.value\n    }\n    const inputValid = () => {\n        const text = inputText()\n        return text.length > 0\n    }\n    const popDisabled = () => H.empty(stackLL)\n\n    return (\n        <div>\n            <div className='controls'>\n                <div className='inputs'>\n                    <input placeholder=\"Enter value\" id=\"input-value\" class=\"input-text\" name=\"value\" autoComplete=\"off\" onChange={props.textChanged} value={inputText()} disabled={paused} />\n                    <button id=\"btn--push\" onClick={() => props.push()} disabled={paused || !inputValid()}>Push</button>\n                    <button id=\"btn--pop\" onClick={() => props.pop()} disabled={paused || popDisabled()}>Pop</button>\n                </div>\n\n                <div className='step-buttons'>\n                    <button id=\"btn--step\" onClick={handlePaused} ref={refPaused}  disabled={H.empty(stackLL)}>{steppingStatus()}</button>\n                    <div className=\"direction-buttons\">\n                        <button id=\"btn--backwards\" onClick={handleBackward} ref={refBackward} disabled={stepBackDisabled()}>Step Back</button>\n                        {/* TODO: need to disable button on stepping */}\n                        <button id=\"btn--forwards\" className=\"right-step-btn\" onClick={handleForward} ref={refForward} disabled={stepForwardDisabled()}>Step Forward</button>\n                    </div>\n                </div>\n\n                <button id=\"btn--clear\" onClick={props.clearAll} disabled={paused || H.empty(stackLL)}>Clear All</button>\n            </div>\n            <div ref={wrapperRef}>\n                <AlgoSVG ref1={ref}/>\n            </div>\n        </div>\n        \n    )\n}\n\nconst mapStateToProps = (state) => {\n    return state;\n}\n\nexport default connect(\n    mapStateToProps,\n    {\n        push, pop, clearAll, textChanged,\n        updateStep, forward, backward, pause,\n        pageChange\n    }\n)(StackLLDS);\n\n\n\n","import * as TYPES from './types'\n\nexport const push = (paused) => ( dispatch, getState )=> {\n    const {stackLLInputs: input} = getState()\n    \n    if(paused){\n        dispatch({type: TYPES.SLL_PUSH_NODE, payload:  {[input.index]:  {value: input.value,  step: 0, end: 3 }} })\n    }else{\n        dispatch({type: TYPES.SLL_PUSH_NODE, payload:  {[input.index]:  {value: input.value,  step: 3, end: 3 }} })\n    }\n    dispatch({type: TYPES.SLL_CLEAR_ON_INC, payload: { index: input.index+1, value: ''} })\n\n}\n\nexport const pop = (e) => ( dispatch, getState )=> {\n    const {stackLL, stackLLInputs : input} = getState()\n    \n    if(stackLL[input.index-1] === undefined) return;\n    dispatch({type: TYPES.SLL_POP_NODE, payload: input.index-1 })\n    if(input.index === 0) return;\n    dispatch({type: TYPES.SLL_CLEAR_ON_DEC, payload: { index: input.index-1, value: ''} })\n}\n\nexport const clearAll = () => ( dispatch, getState )=> {\n    \n    dispatch({type: TYPES.SLL_CLEAR_STACKLL })\n    dispatch({type: TYPES.SLL_CLEAR_INPUT, payload: { index: 0, value: ''} })\n}\n\n\nexport const textChanged = (input) => (dispatch, getState) => {\n    const { stackLLInputs } = getState()\n    let name;\n    let value;\n\n    if(input.currentTarget){\n        name = input.currentTarget.name\n        value = input.currentTarget.value;\n    }else{\n        name = input.name;\n        value = input.value;\n    }\n    \n    const validInput = (value.length <= 4)\n    \n    if(!validInput) return  \n        \n    stackLLInputs[name] = value;\n\n    dispatch({type: TYPES.SLL_ON_NODE_CHANGE, payload: stackLLInputs })\n}\n\n","export const SLL_SET_MODE = 'SLL_SET_MODE';\n\nexport const SLL_SET_BOXES = 'SLL_SET_BOXES';\nexport const SLL_CLEAR_BOXES = 'SLL_CLEAR_BOXES';\n\nexport const SLL_CLEAR_STACKLL = 'SLL_CLEAR_STACKLL';\nexport const SLL_CLEAR_INPUT = \"SLL_CLEAR_INPUT\"\n\nexport const SLL_ON_NODE_CHANGE = \"SLL_ON_NODE_CHANGE\";\nexport const SLL_CLEAR_ON_INC = \"SLL_CLEAR_ON_INC\";\nexport const SLL_PUSH_NODE = 'SLL_PUSH_NODE';\nexport const SLL_POP_NODE = 'SLL_POP_NODE';\nexport const SLL_CLEAR_ON_DEC = 'SLL_CLEAR_ON_DEC'\nexport const SLL_POP = 'SLL_POP'\n","import * as TYPES from './types'\nimport * as H from '../../../../Utils/helpers'\n\nexport const pause = (bufferedData) => (dispatch, getState) => {\n    const {stackLL} = getState();\n    \n    if(!H.empty(bufferedData)){\n        let startIndex = +Math.max(Object.keys(stackLL))\n        for(let node of bufferedData){\n            startIndex++\n            const {value} = node\n            stackLL[startIndex] =  {value, step: 3, end: 3}\n        }\n    }\n\n    const updates = H.updateNodes(stackLL, {step:3, end:3})\n    \n    dispatch( {type: TYPES.PAUSE, payload: {  ...stackLL, ...updates }} )\n\n}\nexport const forward = (index) => (dispatch, getState) =>  {\n    const {stackLL} = getState();\n    const node = stackLL[index];\n\n    if(node && node.step> -1 && node.step < node.end){\n        node.step += 1;\n        dispatch({type: TYPES.FORWARD, paylaod: {...node}})\n       \n    }\n}\nexport const backward = (index) => (dispatch, getState) =>  {\n    const {stackLL} = getState();\n    const node = stackLL[index];\n\n    if(node && node.step > -1 && node.step > 0){\n        node.step -= 1;\n        dispatch({type: TYPES.BACKWARD, paylaod: {...node}})\n        \n    }\n}\nexport const updateStep = (index, step) => (dispatch, getState) =>  {\n    const {stackLL} = getState();\n    const node = stackLL[index];\n\n    if(!node) return\n    dispatch({ type: TYPES.UPDATE_STEP, payload: {[index]: {...node, ...step}}  })\n}","export const FORWARD = 'FORWARD'\nexport const BACKWARD = 'BACKWARD'\nexport const PAUSE = 'PAUSE'\nexport const PLAY = 'PLAY'\nexport const UPDATE_STEP = 'UPDATE_STEP'\n\nexport const SLL_CLEAR_ON_DEC = 'SLL_CLEAR_ON_DEC'","export class AVLNode {\n    constructor(value, index = 0) {\n        this.value = value;\n        this.index = index;\n        this.leftChild = null;\n        this.rightChild = null;\n        this.height = 0;\n        this.balanceFactor = null;\n        this.leftHeight = null;\n        this.rightHeight = null;\n        this.status = '';\n        this.deleteOK = false;\n        this.deleteStep = 0;\n        this.dSteps = 0;\n\n        this.col = null;\n        this.row = null;\n\n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.leftSide = 0;\n        this.rightSide = 0;\n        this.last = true;\n    }\n}\n\nconst showFocus = root => root.focus ? ` [${root.value}] ` : root.value\n\nconst showUpdates = root => `[${root.value}, ${root.height}, (${root.leftHeight}, ${root.rightHeight}), ${root.balanceFactor} ]`\nexport const simplifyUpdates = root => {\n\n    if (!root) return 'null'\n\n    if (!root.leftChild && !root.rightChild) return `${showUpdates(root)}`\n\n    return ` ${showUpdates(root)} > { ${simplifyUpdates(root.leftChild)}, ${simplifyUpdates(root.rightChild)} }`\n\n}\n\nexport const simplify = root => {\n\n    if (!root) return 'null'\n\n    if (!root.leftChild && !root.rightChild) return `${showFocus(root)}`\n\n    return ` ${showFocus(root)} > { ${simplify(root.leftChild)}, ${simplify(root.rightChild)} }`\n\n}\n\nexport const duplicateRoot = root => {\n\n    if (!root) return null;\n\n    return {\n        ...root,\n        leftChild: duplicateRoot(root.leftChild),\n        rightChild: duplicateRoot(root.rightChild)\n    }\n\n}\n\nexport const isLeaf = (root) => {\n    return !root.leftChild && !root.rightChild\n}\n\nexport const findRoot = (root, value) => {\n    if (!root) return null;\n\n    if (value === root.value) return root\n\n    if (value < root.value) {\n        return findRoot(root.leftChild, value)\n    } else\n        if (value > root.value) {\n            return findRoot(root.rightChild, value)\n        }\n}\n\nconst __insert = (root, data) => {\n\n    if (!data) return false;\n\n    const { value, index, stepped } = data;\n\n    if (!root) {\n        return new AVLNode(value, index, stepped)\n    }\n\n    root.last = false;\n    if (value < root.value) {\n        return { ...root, leftChild: __insert(root.leftChild, data) }\n    } else {\n        return { ...root, rightChild: __insert(root.rightChild, data) }\n    }\n\n}\n\nexport const insert = (root, data) => {\n\n    const exist = findRoot(root, data.value)\n\n    if (exist) return root\n\n    return __insert(root, data)\n\n}\n\nconst calcHeight = root => {\n\n    if (!root) return 0;\n\n    if (root && root.left !== undefined && root.right !== undefined) {\n        return Math.max(root.left, root.right) + 1\n    }\n\n    return Math.max(calcHeight(root.leftChild), calcHeight(root.rightChild)) + 1\n\n}\n\nexport const balanceFactor = root => {\n\n    if (!root) return 0;\n\n    if (root && root.left !== undefined && root.right !== undefined) {\n        return root.left - root.right\n    }\n\n    return calcHeight(root.leftChild) - calcHeight(root.rightChild);\n}\n\nexport const isLeftHeavy = root => {\n    return balanceFactor(root) > 1;\n}\n\nexport const isRightHeavy = root => {\n    return balanceFactor(root) < -1;\n}\n\nexport const leftRotate = (root) => {\n    const { rightChild } = root;\n    const { leftChild } = rightChild;\n    const updateRoot = { ...root, rightChild: leftChild ? { ...leftChild } : null }\n    const newRoot = { ...rightChild, leftChild: { ...updateRoot } }\n\n    return { ...newRoot };\n}\n\nexport const rightRotate = (root) => {\n    const { leftChild } = root;\n    const { rightChild } = leftChild;\n    const updateRoot = { ...root, leftChild: rightChild ? { ...rightChild } : null }\n    const newRoot = { ...leftChild, rightChild: { ...updateRoot } }\n\n    return { ...newRoot };\n}\n\nexport const balance = (root) => {\n\n    if (!root) return null;\n\n    if (isLeftHeavy(root)) {\n\n        if (balanceFactor(root.leftChild) < 0) {\n            root.leftChild = { ...leftRotate(root.leftChild) }\n        }\n\n        return { ...rightRotate(root) }\n\n    } else if (isRightHeavy(root)) {\n\n        if (balanceFactor(root.rightChild) > 0) {\n            root.rightChild = { ...rightRotate(root.rightChild) };\n        }\n\n        return { ...leftRotate(root) };\n\n    }\n    return { ...root };\n}\n\nexport const clearPath = (root, value) => {\n\n    if (!root) return null;\n\n    if (!value || value === root.value) return root;\n\n    root.focus = false\n\n    root.status = ''\n\n    if (value < root.value) {\n        return { ...root, leftChild: clearPath(root.leftChild, value) }\n    } else {\n        return { ...root, rightChild: clearPath(root.rightChild, value) }\n    }\n}\n\nexport const clearRoot = (root) => {\n\n    if (!root) return null;\n\n    root.focus = false\n\n    root.status = ''\n\n    return {\n        ...root,\n        leftChild: clearRoot(root.leftChild),\n        rightChild: clearRoot(root.rightChild)\n    }\n\n}\n\nconst calcSides = (root, x = 0, y = 0) => {\n    if (!root) return 0;\n    const leftSide = calcSides(root.leftChild, x - 1, y + 1);\n    const rightSide = calcSides(root.rightChild, x + 1, y + 1);\n\n    return leftSide + rightSide + 1\n}\n\nconst setLeaf = (root) => {\n    return {\n        ...root,\n        height: 0,\n        balanceFactor: 0,\n        leftHeight: -1,\n        rightHeight: -1,\n\n    }\n}\n\nexport const updateRoot = (root, col = 0, row = 0) => {\n\n    if (!root) return null;\n\n    if (isLeaf(root)) return setLeaf(root)\n\n    const leftChild = updateRoot(root.leftChild, row + 1, col - 1);\n    const rightChild = updateRoot(root.rightChild, row + 1, col + 1);\n\n    // PostOrder\n\n    const leftHeight = calcHeight(root.leftChild);\n    const rightHeight = calcHeight(root.rightChild);\n    const height = calcHeight(root);\n\n    const leftSide = calcSides(root.leftChild, row + 1, col - 1)\n    const rightSide = calcSides(root.rightChild, row + 1, col + 1);\n    const width = leftSide + rightSide + 1;\n\n    const bFactor = balanceFactor(root)\n\n    return {\n        ...root,\n        leftChild: leftChild ? { ...leftChild } : null,\n        rightChild: rightChild ? { ...rightChild } : null,\n        leftHeight,\n        rightHeight,\n        height,\n        balanceFactor: bFactor,\n        leftSide,\n        rightSide,\n        width,\n        col,\n        row,\n    }\n}\n\nexport const genNodeHash = (arr, index = 0) => {\n    if (arr.length === 0) return {}\n    const [first, ...rest] = arr\n    const node = { value: first, index: (first.index || index) }\n    return { [index]: node, ...genNodeHash(rest, index + 1) }\n}\n\nexport const hashToArray = obj => Object.keys(obj).map(d => ({ ...obj[d], index: +d }))\n\nexport const insertWithoutBalance = (data, root = null) => {\n    const arr = Array.isArray(data) ? data : hashToArray(data)\n    return arr.reduce((a, c) => insert(a, c), root)\n}\nexport const cleanUpResult = result => {\n\n    let newRoot = result.root\n\n    newRoot = clearRoot(result.root)\n    newRoot = updateRoot(newRoot)\n\n    return {\n        ...result,\n        root: { ...newRoot, status: '' },\n        msg: '',\n        done: true,\n        active: true,\n        taskDone: result.taskDone\n    }\n} \n","import * as H from '../../../../Utils/helpers'\nimport * as stepHelper from '../steps/step-helper'\n\n\nconst __balanceInsert = (root, value, index, last=false)=> {\n    \n    if(!root) {\n        return {...(new stepHelper.AVLNode(value, index)), last } ;\n    }\n    \n    if(value < root.value){\n        return stepHelper.balance({...root, leftChild: __balanceInsert(root.leftChild, value, index, last)})\n    } else {\n        return stepHelper.balance({...root, rightChild: __balanceInsert(root.rightChild, value, index, last)})\n    }\n    \n}\nconst balanceInsert = (root, value, index, last=false) => {\n   \n   const exist = stepHelper.findRoot(root, value) \n   \n   if(exist) return root\n   \n   return __balanceInsert(root, value, index, last)\n   \n}\n\nexport const balanceInsertNodes = (objNodes) => {\n\n    if(Object.keys(objNodes).length === 0) return null\n\n    const nodes = H.objToArray(objNodes)\n    return nodes.reduce((a,c)=> balanceInsert(a, c.value, c.index) )\n    \n}\n\nconst __stepInsert = (root, data, step=0, message=null) => {\n\n    if (!data) return [null, 'no data'];\n    const { value, index, stepped } = data;\n\n    let msg = message\n\n    if (!root) {\n\n        if(!msg){\n            msg = `Inserted ${value} as root to the tree`\n        }\n\n        if (step === 0) return {root:null, msg, done: false, step: step}\n         \n        msg =  `Inserted ${value} to the tree`\n        \n        return {root: new stepHelper.AVLNode(value, index, stepped), msg, done: true, step: step};\n    }\n\n    root.last = false;\n\n    root.focus =  true  \n    \n    root.status = ''\n\n    if (step === 0) {\n\n        msg = `Search for a location for ${value}`\n      \n        return { root: {...root}, msg, done: false, step: step };\n   \n    }\n    if (step === 1) {\n        if (stepHelper.isLeaf(root)) {\n            root.status = 'new-root'\n            msg = `Parent found for new leaf ${value} at ${root.value}`\n\n        }\n    }\n\n    if (value < root.value) {\n        const {root: newRoot, msg: newMsg, done: newDone, step: newStep} = __stepInsert(root.leftChild, data, step - 1, msg)\n        return {root: { ...root, leftChild: newRoot  }, msg: newMsg, done: newDone, step: newStep }\n    } else {\n        const {root: newRoot, msg: newMsg, done: newDone, step: newStep} = __stepInsert(root.rightChild, data, step - 1, msg)\n        return {root: { ...root, rightChild: newRoot }, msg: newMsg, done: newDone, step: newStep }\n    }\n\n}\n\nexport const stepInsert = (root, data, step) => {\n\n    if(!data) return {root, msg: 'No data'}\n\n    const exist = stepHelper.findRoot(root, data.value)\n\n    if(exist) {\n\n        const msg = root.focus \n                        ? 'Insert succesfull'\n                        : 'Value already exist in tree'\n        \n        const newRoot = stepHelper.clearPath(root, data.value)\n\n        return {root: newRoot, msg, done: true, exist: true} \n\n    }    \n\n    const result = __stepInsert(root, data, step)\n\n    let newRoot = result.root\n\n    if(result.done && result.step === 2) {\n\n        newRoot = stepHelper.clearPath(result.root, data.value)\n        \n        return { ...result, root: newRoot, msg: \"\", done: false}\n    }\n    \n    let newMsg = result.msg\n    let newDone = false\n    \n    if (result.done && result.step > 2) {\n\n        return  stepHelper.cleanUpResult(result)\n    }\n\n    return {root: newRoot, msg: newMsg, done: newDone}\n\n}\n\nexport const insertNodes = (objNodes) => {\n\n    const nodes = H.objToArray(objNodes)\n    return nodes.reduce( (a,c)=> stepInsert(a, c.value, c.index) )\n}\n\n","import * as stepHelper from '../steps/step-helper'\n\nexport const nodesOnPath = (root, value) => {\n    if(!root) return []\n\n    if(value < root.value){\n        return [...nodesOnPath(root.leftChild, value), root]\n    } else \n    if(value > root.value){\n        return [...nodesOnPath(root.rightChild, value), root]\n    }\n    return [root]\n}\n\nconst stepOutput = (root, msg, step=0 , status='', done=false, taskDone=false) => {\n    return {root: {...root, status}, msg, newStep: step, done, taskDone}\n}\n\nconst stepBalanceRoot = (root, step, inputMsg, doneWithPrev, mainRoot) => {\n    let newStep = step\n\n    if (!root) return stepOutput(root, 'Nothing to balance', step,'', true)\n    if (step < 0) return stepOutput(root, inputMsg, step, '', true) \n    if(!doneWithPrev && !stepHelper.isLeaf(root)) return stepOutput(root, inputMsg, step, '', true) \n    root.focus = true\n\n    let msg = `Checking if node ${root.value} is balanced`\n    if(stepHelper.isLeaf(root)) return stepOutput(root, msg, step, 'stepped', true)\n\n    if (step === 0) return stepOutput(root, msg, step, 'balancing')\n    \n    if (stepHelper.isLeftHeavy(root)) {\n  \n        if (stepHelper.balanceFactor(root.leftChild) < 0) {\n            newStep = newStep -1\n            msg = `Node ${root.value} is left heavy, rotating left at ${root.leftChild.value}`\n            if (newStep === 0) return stepOutput(root, msg, newStep, 'unbalanced')\n\n            root.leftChild = stepHelper.leftRotate(root.leftChild)\n        }\n        \n        newStep = newStep -1\n        msg = `Node ${root.value} is right heavy, rotating right`\n        if (newStep === 0) return stepOutput(root, msg, newStep, 'unbalanced')\n        \n        root.focus = true\n        newStep = newStep -1\n        msg = `Node ${root.value} is now balanced`\n        if (newStep === 0) return stepOutput( stepHelper.rightRotate(root), msg, newStep, 'balanced')\n\n        const result = stepOutput( stepHelper.rightRotate(root), msg, newStep, 'balanced', true, mainRoot)\n        return stepHelper.cleanUpResult(result)\n        \n    } else if (stepHelper.isRightHeavy(root)) {\n\n        if (stepHelper.balanceFactor(root.rightChild) > 0) {\n            \n            newStep = newStep -1\n            msg = `Node ${root.value} is right heavy, rotating right at ${root.rightChild.value}`\n            if (newStep === 0) return stepOutput(root, msg, newStep, 'unbalanced') \n\n            root.rightChild = stepHelper.rightRotate(root.rightChild)\n        }\n\n        newStep = newStep -1\n        msg = `Node ${root.value} is left heavy, rotating left`\n        if (newStep === 0) return stepOutput(root, msg, newStep, 'unbalanced')\n       \n        newStep = newStep -1\n        msg = `Node ${root.value} is now balanced`\n        if (newStep === 0) return stepOutput( stepHelper.leftRotate(root), msg, newStep, 'balanced')\n          \n        const result = stepOutput( stepHelper.leftRotate(root), msg, newStep, 'balanced', true, mainRoot)\n        return stepHelper.cleanUpResult(result)\n    }\n\n    msg = `Root ${root.value} is balanced`\n\n    return stepOutput(root, msg, newStep, '', true, true)\n\n}\n//                                      9\n//                                  1        21\n//                                     4   15   24\n//\nconst __stepBalanceTree = (root, endNode, step, rootValue) => {\n    \n    let msg = `Balancing path from node ${endNode.value}`\n\n    if( step === 0 ) return {root, msg, newStep: step, done: false, taskDone: stepHelper.isLeaf(root)}\n    if ( !root ) return {root, msg, newStep: step, done: true, taskDone: true}\n\n    const { value } = endNode;\n\n    let tempRoot = root;\n    let newUpStep;\n\n    if (value < root.value) {\n        const {root: newRoot, msg,  newStep, done, active, taskDone} = __stepBalanceTree(root.leftChild, endNode, step, rootValue) \n        newUpStep = newStep \n            \n        tempRoot = {root: { ...root, leftChild: newRoot}, msg, newStep: newStep, done, active, taskDone }\n    } else \n    {   \n        const {root: newRoot, msg, newStep, done, active, taskDone } = __stepBalanceTree(root.rightChild, endNode, step, rootValue)\n        newUpStep = newStep \n           \n        tempRoot = {root: { ...root, rightChild: newRoot}, msg, newStep: newStep, done, active, taskDone } \n    }\n    \n    return stepBalanceRoot( \n        {...tempRoot.root}, \n        newUpStep-1, \n        tempRoot.msg, \n        tempRoot.done, \n        rootValue === tempRoot.root.value \n    )\n}\n\nexport const stepBalance =  (root, endNode, step) => {\n\n    let result = __stepBalanceTree(root, endNode, step, root.value)\n    \n    const taskCompleted = (\n        result.done &&\n        result.taskDone\n    )\n\n    if(taskCompleted) result.root = stepHelper.clearRoot(result.root)\n    \n    return { ...result,  taskCompleted }\n\n}\n\n\n\n","import * as stepHelper from '../steps/step-helper'\n\nconst getTargetAndParent = (root, parent=null, deleteData, step, side=true, msg='') =>{\n    \n    const {deleteValue: value, deleteIndex: index} = deleteData\n\n    if(!root) return {copyRoot: null, root, parent, side, msg, step};\n    \n    let newMsg = msg\n    root.focus = true\n\n    if(root.value === value && root.index === index) {\n        if(step === 0){\n            newMsg = `Found Target ${value} ${parent ? 'and Parent ' + parent.value :'' }`\n            return {copyRoot: {...root}, root:null, parent, side, msg: newMsg, step, done: false}\n        }\n        newMsg = `Deleting Target ${value}`\n        return {copyRoot: {...root}, root, parent, side, msg: newMsg, step: step-1, done: true}\n    }    \n   \n    if(step === 0){\n        newMsg = `Searching for Target ${value} and it's parent`\n        return {copyRoot: {...root}, root:null, parent, side, msg: newMsg, step, done: false};\n    }\n    if(value < root.value){\n\n        const result = getTargetAndParent(root.leftChild, root, deleteData, step-1, true, newMsg)\n        return { \n            ...result,\n            copyRoot: {\n                ...root,\n                leftChild: result.copyRoot ? {...result.copyRoot} : null\n            },\n            \n        }\n    } else {\n        const result = getTargetAndParent(root.rightChild, root, deleteData, step-1, false, newMsg)\n        return { \n             ...result,\n            copyRoot: {\n                ...root,\n                rightChild: result.copyRoot ? {...result.copyRoot} : null\n            },\n           \n        }    \n        \n    }\n}\n\nconst getReplacementNode = target => {\n\n    let replacementParent = target;\n    let replacement = target;\n    \n    let focusNode = target.rightChild\n\n    while (focusNode != null){\n        replacementParent = replacement;\n        replacement = focusNode;\n        focusNode = focusNode.leftChild;\n    }\n\n    if(replacement !== target.rightChild){\n        replacementParent.leftChild = replacement.rightChild;\n        replacement.rightChild = target.rightChild;\n    }\n\n    return replacement;\n}\n\nfunction __deleteNode(troot, deleteData, step){\n    if(!troot) return {troot, msg: '', step: step, done: true} \n    \n    let focusNode = troot\n    let parent = troot\n\n    let isItAtLeftChild = true;\n    const {copyRoot, root:target, parent:p, side, step: newStep, msg: tempMsg} = getTargetAndParent(troot, null, deleteData, step, true)\n    let newMsg = tempMsg\n    let root = {...copyRoot}\n\n    if(!target) return {root, msg: newMsg, step: newStep, done: false}\n\n    focusNode = stepHelper.findRoot(root, target.value);\n    parent = p ? stepHelper.findRoot(root, p.value): null;\n    isItAtLeftChild = side;\n\n    if(!focusNode.leftChild && !focusNode.rightChild){\n\n        if(focusNode === root){\n            \n            if(newStep === 0){\n                newMsg = 'Deleting ' + focusNode.value + 'at root' \n                \n                return {root, msg: newMsg, step: newStep, done: false}\n            }\n\n            root = null\n\n        } else if(isItAtLeftChild){\n            \n            if(newStep === 0){\n                newMsg = \"Deleting root's left child \" + focusNode.value \n                \n                return {root, msg: newMsg, step: newStep, done: false}\n            }\n            newMsg = \"Target \" + focusNode.value + \" deleted\" \n            parent.leftChild = null;\n\n        } else {\n            \n            if(newStep === 0){\n                newMsg = \"Deleting root's right child \" + focusNode.value \n                \n                return {root, msg: newMsg, step: newStep, done: false}\n            }\n            newMsg = \"Target \" + focusNode.value + \" deleted\" \n            parent.rightChild = null;\n\n        }\n\n    } else \n    if(!focusNode.rightChild){\n\n        if(newStep === 0){\n            newMsg = \"Deleting target by replacing it with it's left child\" \n            \n            return {root, msg: newMsg, step: newStep, done: false}\n        }\n\n        if(focusNode === root){\n\n            root = focusNode.leftChild;\n\n        } else\n        if(isItAtLeftChild){\n\n            parent.leftChild = focusNode.leftChild;\n\n        } else {\n\n            parent.rightChild = focusNode.leftChild;\n\n        }\n\n    } else \n    if(!focusNode.leftChild){\n \n        if(newStep === 0){\n            newMsg = \"Deleting target by replacing it with it's right child\"  \n            \n            return {root, msg: newMsg, step: newStep, done: false}\n        }\n\n        if(focusNode === root){\n\n            root = focusNode.rightChild;\n\n        } else \n        if(isItAtLeftChild){\n\n            parent.leftChild = focusNode.rightChild\n\n        } else {\n\n            parent.rightChild = focusNode.rightChild;\n\n        }\n\n    } else {\n        const replacement = getReplacementNode(focusNode)\n\n        if(newStep === 0){\n            newMsg = \"Replacing target \" + focusNode.value + \" with \" + replacement.value  \n        }\n        \n        if(focusNode === root){\n            \n            root = replacement;\n\n        } else\n        if(isItAtLeftChild) {\n\n            parent.leftChild = replacement\n\n        } else {\n\n            parent.rightChild = replacement;\n\n        }\n\n        replacement.leftChild = focusNode.leftChild;\n    }\n\n    return {root: root, msg: newMsg, step: newStep, done: true}\n}\n\nexport const stepDelete = (root, deleteData, step) => {\n   \n    const {root: newRoot, msg, step: newStep, done} = __deleteNode(stepHelper.duplicateRoot(root), deleteData, step)\n\n    let tempRoot  = newRoot\n    let newMsg = msg\n  \n    if(newStep === 2 && done){\n        newMsg = \"Reset Root\" \n        return {root: stepHelper.clearRoot(tempRoot), msg: newMsg, step: newStep, done: false}\n    } \n    if(newStep > 1 && done) tempRoot = stepHelper.clearRoot(tempRoot)\n    \n    if(newStep === 3 && done){\n        newMsg = \"Reset Root\" \n        return {root: stepHelper.updateRoot(tempRoot), msg: newMsg, step: newStep, done: false}\n    } \n    if(newStep > 1 && done){\n        tempRoot = stepHelper.updateRoot(tempRoot)\n        newMsg = ''\n    } \n\n    return {root: tempRoot, msg: newMsg, step: newStep, done: newStep > 1 }\n\n}","import * as Balance from '../steps/balance'\nimport * as Insert from '../steps/insert'\nimport * as Delete from '../steps/delete'\nimport * as stepHelper from '../steps/step-helper'\n\nconst hashNodes = (history, stepIndex) => {\n    if (!history) return null\n\n    let array = []\n    for (let index in history) {\n        const record = history[index]\n        if (record && record.focusValue && record.modeStep === 1 && record.mode !== 'balance' && index <= stepIndex) {\n            console.log('hashNodes > record', record)\n            if (record.mode === 'delete') {\n                array = array.filter(node => node.value !== record.focusValue)\n            } else {\n                array.push({ value: record.focusValue, index: record.index })\n            }\n        }\n    }\n    return array\n}\n\nexport const balanceStepper = (history, stepIndex, step = 0) => {\n    const nodes = hashNodes(history, stepIndex)\n    const nodesWithoutLast = nodes.slice(0, nodes.length - 1)\n    const last = nodes[nodes.length - 1]\n\n    if (!last) return null\n\n    let root = Insert.balanceInsertNodes(nodesWithoutLast)\n    root = stepHelper.insertWithoutBalance([last], root)\n\n    return Balance.stepBalance(root, last, step)\n\n}\n\nexport const insertStepper = (history, stepIndex, step = 0) => {\n\n    const nodes = hashNodes(history, stepIndex)\n    const frontNodes = nodes.slice(0, nodes.length - 1)\n    const stepHistory = history[stepIndex]\n    const last = {\n        value: stepHistory.focusValue,\n        index: stepHistory.index\n    }\n\n    const root = Insert.balanceInsertNodes(frontNodes)\n\n    return Insert.stepInsert(root, last, step)\n\n}\n\nexport const deleteStepper = (history, stepIndex, step = 0) => {\n\n    const nodes = hashNodes(history, stepIndex)\n\n    const last = nodes.slice(nodes.length - 1)\n\n    const root = Insert.balanceInsertNodes(nodes)\n\n    return Delete.stepDelete(\n        root,\n        { deleteValue: last.value, delete: last.index },\n        step\n    )\n\n}\n\nexport const compactHistory = (history) => {\n    let newHistory = {}\n    let idx = 0\n\n    for (let key in history) {\n        const entry = history[key]\n\n        if (entry.mode !== '') {\n            newHistory[idx] = entry\n            idx++\n        }\n    }\n    return {newHistory, maxIndex: idx}\n}\n\n\nexport const steps = (avl) => {\n\n    const { history, stepIndex } = avl\n    let stepNumber = stepIndex\n\n    const {\n        newHistory, \n        maxIndex: idx\n    } = compactHistory(history) \n\n    console.log('idx', idx)\n    console.log('stepNumber', stepNumber)\n    \n    if (stepNumber > idx - 1) stepNumber = idx - 1\n    console.log('stepNumber', stepNumber)\n\n    const step = newHistory[stepNumber]\n    if (!step) return null\n    const { modeStep } = step\n\n    console.log('history >> ', history)\n    console.log('New history >> ', newHistory)\n\n\n    switch (step.mode) {\n        case 'insert':\n            console.log('insert >> ', stepNumber, step)\n            return insertStepper(newHistory, stepNumber, modeStep)\n        case 'delete':\n            console.log('delete >> ', stepNumber, step)\n            return deleteStepper(history, avl.stepIndex, modeStep)\n        case 'balance':\n            console.log('balance >> ', stepNumber, step)\n            return balanceStepper(newHistory, stepNumber, modeStep)\n        case '':\n            if (avl.root) {\n                console.log('balance >> ', stepNumber, step)\n                return balanceStepper(newHistory, stepNumber, modeStep)\n            }\n            break\n        default:\n             return\n    }\n}","import * as H from '../../../Utils/helpers'\nimport * as H2 from './AVLTreeDS-helpers'\n\nexport class AVLNode {\n    constructor(value, index=0){\n        this.value = value;\n        this.index = index;\n        this.leftChild = null;\n        this.rightChild = null;\n        this.height = 0;\n        this.balanceFactor = null;\n        this.leftHeight = null;\n        this.rightHeight = null;\n        this.status = '';\n        this.deleteOK = false;\n        this.deleteStep = 0;\n        this.dSteps = 0;\n        \n        this.col = null;\n        this.row = null;\n        \n        this.x = 0;\n        this.y = 0;\n        this.width = 0;\n        this.leftSide = 0;\n        this.rightSide = 0;\n        this.last = true;\n    }\n}\n\nexport class AVLTreeDS {\n\n    constructor (mem = {}, root=null) {\n        this.root = root;\n\n        this.step = 0;\n        this.stop = 0;\n        this.done = true;\n        \n        this.insertPathNodes = [];\n\n        this.branceToBrace = 30;\n        this.xNodeToNode = 40;\n        this.yNodeToNode = 70;\n\n        this.currentIndex = 0\n        this.currentStep = 0\n        this.syncStep = 0\n        this.totalSteps = 0\n        this.repeat = false \n        this.dimensions = {}\n        this.memoizedSteps = []\n        this.status = {msg: ''}\n\n        const {\n            deleteOK,\n            deleteValue,\n            action,\n            prevAction,\n            deleteIndex,\n            insertRefStep,\n            balanceRefStep,\n            deleteRefStep,\n            memoizedSteps\n        } = mem\n\n        \n        this.deleteOK       = deleteOK\n        this.deleteValue    = deleteValue\n        this.action         = action || ''\n        this.prevAction     = prevAction || ''\n        this.deleteIndex    = deleteIndex\n        this.insertRefStep  = insertRefStep || 0\n        this.balanceRefStep = balanceRefStep || 0\n        this.deleteRefStep  = deleteRefStep || 0\n        this.memoizedSteps  = memoizedSteps || []\n\n    }\n\n    createRoot(value, index, stepped){\n        return new AVLNode(value, index, stepped);\n    }\n\n    setLeaf(root){\n        return {\n            ...root,\n            height: 0,\n            balanceFactor: 0,\n            leftHeight: -1,\n            rightHeight: -1,\n            last: this.isLast(root)\n        }\n    }\n\n    isLast(root){\n        return this.last && this.last.index === root.index;\n    }\n\n    isLeaf (root) {\n        return  !root.leftChild && !root.rightChild\n    }\n    \n    isMainRoot = root => root === this.root\n\n    isMainRoot2(root){\n        if(this.root && root){\n            return this.root.index === root.index\n        } else {\n            return false\n        }\n    }\n\n     __calcX (root, parentX, side) {\n         if(!root.leftSide) root.leftSide = 0\n         if(!root.rightSide) root.rightSide = 0\n         if(!root.width) root.width = 0\n \n        if(this.isMainRoot2(root)){\n            return parentX - (((((root.width/2) - (root.leftSide)) * this.xNodeToNode)));\n        } else\n        if(side < 0 ){\n            return parentX - (((root.rightSide ) * this.xNodeToNode) + this.branceToBrace); \n        } else \n        if(side > 0 ){\n            return parentX + (((root.leftSide) * this.xNodeToNode) + this.branceToBrace); \n        }else {\n            return  parentX + (side * (this.xNodeToNode + this.branceToBrace))\n        }\n     }\n\n     __calcY (root, parentY) {\n         return root.y = parentY + this.yNodeToNode; \n     }\n\n    __position2 (root, parentX, parentY, side=1){\n\n        if(!root) return null;\n  \n        const x = this.__calcX(root, parentX, side);\n        const y = this.__calcY(root, parentY);\n\n        return {\n            ...root,\n            x, y,\n            leftChild: this.__position2(root.leftChild,  x, y, -1),\n            rightChild: this.__position2(root.rightChild, x, y,  1)\n        }\n    }\n\n    xFromDimensions(dimensions){\n        return dimensions.width/2 \n    }   \n\n    yFromDimensions(dimensions){\n        return (\n            ( dimensions.height\n            -(this.yNodeToNode * (1+this.getTreeHeight())))/2\n            - this.yNodeToNode \n\n        ) \n    }\n\n    position(dimensions){\n\n        if(!this.root) return;\n\n        const x = this.xFromDimensions(dimensions)\n        const y = this.yFromDimensions(dimensions)\n        \n        this.root = this.updateTree(this.root)\n\n        this.root = this.__position2(this.root, x, y)\n    }\n\n    calcHeight (root) {\n\n        if(!root) return 0;\n\n        if(root && root.left !== undefined && root.right !== undefined){\n            return Math.max(root.left, root.right)+1\n        }\n\n        return Math.max(H2.calcHeight(root.leftChild), H2.calcHeight(root.rightChild) )+1\n        \n    }\n\n    setHeight (root) {\n        root.height = this.__calcHeight(root)\n        return root.height;\n    }\n\n    getHeight (root) {\n        return H2.calcHeight(root)\n    }\n\n    getTreeHeight(){\n\n        if(!this.root) return 0\n\n        return H2.calcHeight(this.root)\n\n    }\n\n    setBalanceFactor(root){\n\n        root.balanceFactor = H2.balanceFactor(root);\n\n        return root.balanceFactor;\n\n    }\n\n    __calcSides2(root, x=0, y=0){\n        if(!root) return 0;\n        const leftSide  = this.__calcSides2(root.leftChild,  x - 1,  y + 1);\n        const rightSide = this.__calcSides2(root.rightChild, x + 1,  y + 1);\n\n        return leftSide + rightSide + 1\n    }\n\n    updateTree(root,  col=0, row=0){\n\n        if(!root) return null;\n        \n        if(this.isLeaf(root))  return this.setLeaf(root)\n\n        const leftChild = this.updateTree(root.leftChild,   row + 1, col - 1);\n        const rightChild = this.updateTree(root.rightChild,  row + 1, col + 1);\n\n        // PostOrder\n\n        const leftHeight = H2.calcHeight(root.leftChild);\n        const rightHeight = H2.calcHeight(root.rightChild);\n        const height = H2.calcHeight(root);\n\n        const leftSide = this.__calcSides2(root.leftChild,  row + 1,  col - 1)\n        const rightSide = this.__calcSides2(root.rightChild,  row + 1, col + 1);\n        const width = leftSide + rightSide + 1;\n\n        const balanceFactor = H2.balanceFactor(root)\n        \n        return {\n            ...root,\n            leftChild: leftChild ? {...leftChild} : null, \n            rightChild: rightChild ? {...rightChild} : null, \n            leftHeight,\n            rightHeight,\n            height,\n            balanceFactor,\n            leftSide,\n            rightSide,\n            width,\n            col,\n            row,\n            steppped: this.isLast(root)\n        }\n    }\n\n    __height (root) {\n\n        if(!root) return -1;\n\n        if(this.isLeaf(root)){\n            root.height = 0;\n            root.balanceFactor = 0;\n            root.leftHeight = -1;\n            root.rightHeight = -1;\n            return 0;\n        } \n        const left  = this.__height(root.leftChild);\n        const right = this.__height(root.rightChild);\n        const leftAndRight = {left, right}\n        root.leftHeight = left;\n        root.rightHeight = right;\n        root.height = H2.calcHeight(leftAndRight)\n        root.balanceFactor = H2.balanceFactor(leftAndRight)\n        this.__calcSides(root)\n        \n        return root.height;\n\n    }\n    \n    __balanceFactor (root) {\n\n        if(!root) return 0;\n\n        if(root && root.left !== undefined && root.right !== undefined){\n            return root.left - root.right\n        }\n\n        return H2.calcHeight(root.leftChild) - H2.calcHeight(root.rightChild);\n    }\n\n    isLeftHeavy (root) {\n        return H2.balanceFactor(root) > 1;\n    }\n\n    isRightHeavy (root) {\n        return H2.balanceFactor(root) < -1;\n    }\n\n    leftRotate (root) {\n        const newRoot = root.rightChild;\n\n        root.rightChild = newRoot.leftChild;\n        newRoot.leftChild = root;\n        \n        this.__height(root);\n        this.__height(newRoot);\n        \n        return newRoot;\n\n    }\n\n    rightRotate (root) {\n        const newRoot = root.leftChild;  \n\n        root.leftChild = newRoot.rightChild; \n        newRoot.rightChild = root;\n        \n        this.__height(root); \n        this.__height(newRoot);\n        \n        return newRoot;\n\n    }\n\n    leftRotateWS (root, step, stop) {\n        const {rightChild} = root;\n        const {leftChild}  = rightChild;\n        const updateRoot = {...root, rightChild: leftChild ? {...leftChild} : null}\n        const newRoot = {...rightChild, leftChild: {...updateRoot}}\n\n        return {...newRoot};\n    }\n\n    rightRotateWS (root, step, stop) {\n        const {leftChild} = root;\n        const {rightChild}  = leftChild;\n        const updateRoot = {...root, leftChild: rightChild ? {...rightChild} : null}\n        const newRoot = {...leftChild, rightChild: {...updateRoot}}\n\n        return {...newRoot};\n\n    }\n\n    balance(root){\n        \n        if(!root) return [false,false,false];\n\n        if(H2.isLeftHeavy(root)) {\n            if(H2.balanceFactor(root.leftChild) < 0){\n                root.leftChild = {...H2.leftRotate(root.leftChild)}                \n            }\n\n            return [{...H2.rightRotate(root)}, 0, false]\n\n        } else if(H2.isRightHeavy(root)) {\n            if(H2.balanceFactor(root.rightChild) > 0) {\n                root.rightChild = {...H2.rightRotate(root.rightChild)};\n            }\n            return [{...H2.leftRotate(root)}, 0, false];\n            \n            \n        }\n        return [{...root}, 0, false];\n    }\n    balanceWS(root, step, stop, repeat){\n        let balanceStep = step;\n\n        if(!root) return [false,false,false];\n\n        if(H2.isLeftHeavy(root)) {\n\n            if(H2.balanceFactor(root.leftChild) < 0){\n\n                if(balanceStep === stop) return [{...root}, balanceStep, true]\n                root.leftChild = {...H2.leftRotate(root.leftChild)}                \n                    \n            }\n            if(balanceStep === stop) return [{...root}, balanceStep, true]\n            return [{...H2.rightRotate(root, balanceStep+1, stop)}, balanceStep, false]\n\n        } else if(H2.isRightHeavy(root)) {\n            if(H2.balanceFactor(root.rightChild) > 0) {\n                if(balanceStep === stop) return [{...root}, balanceStep, true]\n                \n                root.rightChild = {...H2.rightRotate(root.rightChild, balanceStep+1, stop)};\n            }\n            if(balanceStep === stop) return [{...root}, balanceStep, true];\n            return [{...H2.leftRotate(root)}, balanceStep, false];\n        }\n\n        return [{...root}, balanceStep, false];\n\n    }\n    \n    getStepsForbalance(root, step, stop, repeat){\n        let balanceStep = step;\n\n        if(!root) return 0;\n        \n        if(H2.isLeftHeavy(root)) {\n            if(H2.balanceFactor(root.leftChild) < 0){\n                if(balanceStep === stop) return balanceStep + 1\n            }\n            if(balanceStep === stop) return balanceStep + 1\n        } else if(H2.isRightHeavy(root)) {\n            if(H2.balanceFactor(root.rightChild) > 0) {\n                if(balanceStep === stop) return balanceStep + 1\n            }\n            if(balanceStep === stop) return balanceStep + 1\n        }\n\n        return balanceStep;\n\n    }\n \n    __balanceWithInput(root, data, step=0, stop){\n        \n        if(!root || !data) return [null,null,false] \n        \n        if(data.index === root.index){            \n            const [bRoot, bStep, bNewRepeat] = this.balance(root)\n            return [{...bRoot}, bStep, bNewRepeat];\n        }     \n     \n        if(data.value < root.value ){\n            const [tempRoot, tempStep, tempRepeat] = this.__balanceWithInput(root.leftChild, data)\n            if(tempRepeat) return [{...tempRoot}, tempStep, tempRepeat]\n            root.leftChild = {...tempRoot}\n        } else \n        if(data.value > root.value){\n            const [tempRoot, tempStep, tempRepeat] = this.__balanceWithInput(root.rightChild, data)\n            if(tempRepeat) return [{...tempRoot}, tempStep, tempRepeat]\n            root.rightChild = {...tempRoot}\n        }\n\n        return [root, step, false];\n\n    }\n    __balanceWithInputWS(root, data, step=0, stop){\n        \n        if(!root || !data) return [null,null,false] \n        \n        if(data.index === root.index){            \n            const [bRoot, bStep, bNewRepeat] = this.balanceWS(root, step, stop)\n            return [{...bRoot}, bStep, bNewRepeat];\n        }     \n     \n        if(data.value < root.value ){\n            const [tempRoot, tempStep, tempRepeat] = this.__balanceWithInputWS(root.leftChild, data, step, stop)\n            if(tempRepeat) return [{...tempRoot}, tempStep, tempRepeat]\n            root.leftChild = {...tempRoot}\n        } else \n        if(data.value > root.value){\n            const [tempRoot, tempStep, tempRepeat] = this.__balanceWithInputWS(root.rightChild, data, step, stop)\n            if(tempRepeat) return [{...tempRoot}, tempStep, tempRepeat]\n            root.rightChild = {...tempRoot}\n        }\n\n        return [root, step, false];\n\n    }\n    __getStepsForbalanceWithInput(root, data, step=0, stop){\n        \n        if(!root || !data) return [step, false] \n        \n        if(data.index === root.index){            \n            const bStep = this.getStepsForbalance(root, step, stop)\n            return [ bStep, !(bStep === stop)];\n        }     \n     \n        if(data.value < root.value ){\n            const [tempStep, tempRepeat] = this.__getStepsForbalanceWithInput(root.leftChild, data, step, stop)\n            if(tempRepeat) return [tempStep, tempRepeat]\n        } else \n        if(data.value > root.value){\n            const [tempStep, tempRepeat] = this.__getStepsForbalanceWithInput(root.rightChild, data, step, stop)\n            if(tempRepeat) return [tempStep, tempRepeat]\n        }\n\n        return [step, false];\n\n    }\n    insertPath(data){\n        const [tempRoot, tempStep, tempRepeat] = this.__balanceWithInput(this.root, data)\n        this.root = {...tempRoot}\n        return [tempStep, tempRepeat]\n    }\n    insertPathWS(data, step, stop){\n       const [tempRoot, tempStep, tempRepeat] = this.__balanceWithInputWS(this.root, data, step, stop)\n       this.root = {...tempRoot}\n       return [tempStep, tempRepeat]\n    }\n\n    getInsertSteps(root, step=0, stop){\n\n        if(!this.root) return step;\n\n        if(!root) return step;\n\n        const value = this.last.value\n\n        if(!root || step === stop ){\n            return step\n        }\n        let newSteps = step;\n\n        if(value < root.value ){\n            newSteps = this.getInsertSteps(root.leftChild, step+1, stop) \n        } else \n        if(value > root.value){\n            newSteps = this.getInsertSteps(root.rightChild, step+1, stop) \n        }\n\n        if(this.isLeftHeavy(root)) {\n\n            if(H2.balanceFactor(root.leftChild) < 0){\n                newSteps =+ 1\n\n                if(newSteps === stop) return  newSteps        \n            }\n            newSteps =+ 1\n\n            if(newSteps === stop) return newSteps  \n\n        } else if(this.isRightHeavy(root)) {\n\n            if(H2.balanceFactor(root.rightChild) > 0) {\n                newSteps =+ 1\n\n                if(newSteps === stop) return newSteps   \n            }\n            newSteps =+ 1\n\n            if(newSteps === stop) return newSteps  \n\n        }\n\n        return newSteps\n\n    }\n    clearLast(){\n\n        if(!this.last) return false;\n\n        const root = this.findRoot(this.last.value)\n        if(!root) return false;\n        root.last = false\n\n    }\n    getNodeIndex(value){\n        if(!this.root) return null\n\n        const root = this.findRoot(value)\n        \n        if(root) return root.index \n\n        return null\n    }\n\n    __insertWithSteps (root, data) {\n     \n        if(!data) return null;\n\n        const {value, index, stepped} = data; \n\n        if(!root){\n            if(this.last) {\n                this.clearLast()\n            }\n            this.last = new AVLNode(value, index, stepped);\n\n            return this.last\n        } \n   \n        root.last = false;\n\n        if(value < root.value){\n            root.leftChild = {...this.__insertWithSteps(root.leftChild, data)}\n        } else {\n            root.rightChild = {...this.__insertWithSteps(root.rightChild, data)}\n        }\n\n        this.insertPathNodes = [...this.insertPathNodes, {index: root.index, value: root.value}]\n       \n        return {...root}\n\n    }\n    __checkForInbalanceWS = (list, step, stop) => {\n\n        if(H.empty(list)) return [step, false]\n        \n        const [first, rest] = H.firstAndRest(list);\n            \n        const [tempStep, tempRepeat] = this.insertPathWS(first, step, stop)\n        if(tempRepeat) return [tempStep, tempRepeat]\n \n        return this.__checkForInbalanceWS(rest, step, stop)\n\n    }\n    checkForInbalanceWS(step,stop){\n        return this.__checkForInbalanceWS(this.insertPathNodes, step, stop)\n    }\n\n    __getStepsCheckForInbalance = (list, step, stop) => {\n\n        if(H.empty(list)) return step\n        \n        const [first, rest] = H.firstAndRest(list);\n            \n        const [tempStep, tempRepeat] = this.__getStepsForbalanceWithInput(this.root, first, step, stop)\n        if(tempRepeat) return tempStep\n        \n        return this.__getStepsCheckForInbalance(rest, step, stop)\n\n    }\n\n    getStepsCheckForInbalance(step,stop){\n        return this.__getStepsCheckForInbalance(this.insertPathNodes, step, stop)\n    }\n\n    __checkForInbalance = (list) => {\n\n        if(H.empty(list)) return [0, false]\n        \n        const [first, rest] = H.firstAndRest(list);\n\n        const [tempStep, tempRepeat] = this.insertPath(first)\n       \n        if(tempRepeat) return [tempStep, tempRepeat]\n \n        return this.__checkForInbalance(rest)\n\n    }\n    checkForInbalance(step,stop){\n        return this.__checkForInbalance(this.insertPathNodes, step, stop)\n    }\n    \n    insertWithSteps = (data) => {\n        this.insertPathNodes = []\n\n        const root = this.__insertWithSteps(this.root, data)\n\n        this.root = root;\n\n        const tempRepeat = this.__checkForInbalance(this.insertPathNodes)\n        return tempRepeat;\n        \n    }\n    __insert (root, data) {\n\n        if(!data) return false;\n\n        const {value, index, stepped} = data; \n\n        if(!root){\n            return new AVLNode(value, index, stepped)\n        } \n\n        root.last = false;\n        if(value < root.value){\n            root.leftChild = this.__insert(root.leftChild, data)\n        } else {\n            root.rightChild = this.__insert(root.rightChild, data)\n        }\n\n        return this.balance(root)    \n\n    }\n    insert (data) {\n        this.root = this.__insert(this.root, data)\n    }\n\n    findRoot = (value) => {\n        return H2.findRoot(this.root, value);\n    }\n    \n    __nodesAtDistance = (root, distance) => {\n\n        if(!root) return [];\n        \n        if(distance === 0) {\n            return [root.value]\n        }\n\n        return [\n            ...this.__nodesAtDistance(root.leftChild,  distance-1),\n            ...this.__nodesAtDistance(root.rightChild, distance-1)\n        ]\n\n    }\n\n    nodesAtDistance = distance => {\n\n        if(!this.root) return []\n\n        return this.__nodesAtDistance(this.root, distance)\n\n    }\n\n    __traverseLevelOrder = (start, end) => {\n\n        if(start > end) return []\n        \n        return [ this.nodesAtDistance(start), ...this.__traverseLevelOrder(start+1, end) ]\n\n    }\n\n    traverseLevelOrder = () => {\n        const h = H2.calcHeight(this.root);\n\n        return this.__traverseLevelOrder(0, h);\n    }\n\n    __traverseInOrder(root){\n        if(!root) return [];\n\n        const {\n            value,\n             x, y, \n             height, \n             balanceFactor,\n             leftHeight,\n             rightHeight,\n             col,\n             width,\n             leftSide,\n             rightSide,\n             index,\n             last,\n             status,\n             focus \n            } = root\n\n        \n        const node = {\n            id: `node-${index}`,\n            index: index,\n            i: index,\n            val: value,\n            step: 0,\n            end: 0,\n            paused: false,\n            top: false,\n            value,\n            x, y,\n            height,\n            balanceFactor,\n            leftHeight,\n            rightHeight, \n            col,\n            width,\n            leftSide,\n            rightSide,\n            stepped: focus,\n            last,\n            status,\n            focus \n        }\n        \n        return [\n            ...this.__traverseInOrder(root.leftChild),\n            node,\n            ...this.__traverseInOrder(root.rightChild)\n        ]\n    }\n\n    getNodesInOrder(){\n        return this.__traverseInOrder(this.root)\n    }\n\n    genAVLTreeWithStep(nodes, step, stop){\n\n        if(step === stop || stop < 0) return this;\n \n        if(H.empty(nodes)) return this;\n\n        const [first, rest] = H.firstAndRest(nodes);\n\n        const last = stop - step === 1\n\n        const data = {\n            index: +first[0], \n            ...first[1],\n            last\n        }\n \n        this.insertWithSteps (data)\n\n        return this.genAVLTreeWithStep(rest, step+1, stop)\n\n    }\n   \n    nodesToArray(nodes){\n\n        if(H.empty(nodes)) return []\n\n        const [first, rest] = H.firstAndRest(nodes)        \n\n        const data = {\n            index: +first[0], \n            deleted: false,\n            ...first[1],\n        }\n\n        return [data, ...this.nodesToArray(rest)]\n\n    }\n\n    getDeletedNodes(nodes){\n\n        if(H.empty(nodes)) return []\n        \n        const [first, rest] = H.firstAndRest(nodes)\n\n        let data = []\n      \n        if(first.deleted){\n           data = [ {...first} ]\n        }\n\n        return [...data, ...this.getDeletedNodes(rest)]\n\n    }\n\n    __deleteNodes = (deletes) => {\n\n        if(H.empty(deletes)) return this\n\n        const [first, rest] = H.firstAndRest(deletes)\n\n        this.deleteNode2(first)\n\n        return this.__deleteNodes(rest)\n    \n    }\n\n    deleteNodes = (deletes) => {\n   \n       if(!deletes) return this \n             \n       return this.__deleteNodes(deletes)\n        \n    }\n\n    __simplify(root) {\n        if(!root) return 'null'\n        if(!root.leftChild && !root.rightChild) return `${root.value}`\n    \n        return ` ${root.value} > { ${this.__simplify(root.leftChild)}, ${this.__simplify(root.rightChild)} }`\n    }\n    simplify(){\n        return this.__simplify(this.root)\n    }\n\n    genAVLTree(nodes){\n        \n        if( H.length(nodes) === 1 ){\n\n            return this;\n\n        }    \n\n        if(H.empty(nodes)) return this;\n\n        const [node, rest] = H.firstAndRest(nodes);\n\n        const first = H2.nodeProperties(node)\n\n        const last = H.length(nodes) === 1\n\n        this.root = H2.rootInsert(this.root, first.value, first.index, last)\n\n\n        return this.genAVLTree(rest)\n    }\n\n    // Creating links for Nodes \n\n    theta = (o,a) => Math.atan(o/a)\n\n    adjacent = (theta, h) => Math.cos(theta) * h\n\n    opposite = (theta, h) => Math.sin(theta) * h\n    \n    radiusPoints = (h, source, target) => {\n\n        const a = source.x - target.x;\n        const o = source.y - target.y;\n        const theta1 = this.theta(o,a); \n        const theta2 = this.theta(a,o);\n        \n        let x1 = 0;\n        let y1 = 0;\n        if(source.x < target.x){\n            x1 = source.x + this.adjacent(theta1, h); \n            y1 = source.y + this.opposite(theta1, h);\n        } else {\n            x1 = source.x - this.adjacent(theta1, h); \n            y1 = source.y - this.opposite(theta1, h);\n        }\n        \n        const x2 = target.x - this.opposite(theta2, h);\n        const y2 = target.y - this.adjacent(theta2, h);\n\n        return {x1, y1, x2, y2};\n\n    }\n\n    createLink(source, target){\n        \n        return {\n            index: source.value,\n            id: `[${source.value}]->[${target.value}]`,\n            source,\n            target,\n            value: 0.1,\n            top: false, \n            step: target.step ,\n            end:  target.end,\n            stepped: source.stepped && target.stepped,\n            ...this.radiusPoints( 28, source, target ) \n        }\n    \n    }\n\n    genLinks(root, child){\n\n        if(!child) return [];\n        \n        return  [\n            ...this.genLinks(child, child.leftChild),\n            this.createLink(root, child),\n            ...this.genLinks(child, child.rightChild)\n        ]\n        \n    }\n    \n    genAVLTreeLinks(){\n\n        if(!this.root ) return []\n\n        return  [\n            ...this.genLinks(this.root, this.root.leftChild),\n            ...this.genLinks(this.root, this.root.rightChild)\n        ]\n\n    } \n    __times = (c, n) => {\n        if(n === 0) return '';\n    \n        return c + this.__times(c, n-1);   \n    }\n\n    stepMessage (msg, value) {\n\n        this.status = { msg, value } \n\n    }\n\n    getTargetAndParent(root, deleteData, parent, side=true, step){\n\n        if(!root) return [root, parent, side];\n        \n        const {value, index} = deleteData\n       \n        if(root.value === value && root.index === index) {\n            return [root, parent, side]\n        }    \n       \n        if(value < root.value){\n\n            return this.getTargetAndParent(root.leftChild, deleteData, root, true, step-1)\n\n        } else {\n\n            return this.getTargetAndParent(root.rightChild, deleteData, root, false, step-1)\n\n        }\n    }\n\n    deleteNode2(deleteData){\n\n        let focusNode = this.root\n        let parent = this.root\n\n        let isItAtLeftChild = true;\n\n        const [target, p, side] = this.getTargetAndParent(this.root, deleteData, true)\n        \n        if(!target) return null\n\n        focusNode = target\n        parent = p;\n        isItAtLeftChild = side;\n\n        if(!focusNode.leftChild && !focusNode.rightChild){\n            if(focusNode === this.root){\n\n                this.root = null\n\n            } else if(isItAtLeftChild){\n\n                parent.leftChild = null;\n\n            } else {\n\n                parent.rightChild = null;\n\n            }\n        } else \n        if(!focusNode.rightChild){\n            if(focusNode === this.root){\n\n                this.root = focusNode.leftChild;\n\n            } else\n            if(isItAtLeftChild){\n\n                parent.leftChild = focusNode.leftChild;\n\n            } else {\n\n                parent.rightChild = focusNode.leftChild;\n\n            }\n        } else \n        if(!focusNode.leftChild){\n            if(focusNode === this.root){\n\n                this.root = focusNode.rightChild;\n\n            } else \n            if(isItAtLeftChild){\n\n                parent.leftChild = focusNode.rightChild\n\n            } else {\n\n                parent.rightChild = focusNode.rightChild;\n\n            }\n        } else {\n            const replacement = this.getReplacementNode(focusNode)\n            \n            if(focusNode === this.root){\n\n                this.root = replacement;\n\n            } else\n            if(isItAtLeftChild) {\n\n                parent.leftChild = replacement\n\n            } else {\n\n                parent.rightChild = replacement;\n\n            }\n\n            replacement.leftChild = focusNode.leftChild;\n        }\n        return this;\n    }\n    \n    getReplacementNode(replacdNode) {\n\n        let replacementParent = replacdNode;\n        let replacement = replacdNode;\n        \n        let focusNode = replacdNode.rightChild\n\n        while (focusNode != null){\n            replacementParent = replacement;\n            replacement = focusNode;\n            focusNode = focusNode.leftChild;\n        }\n\n        if(replacement !== replacdNode.rightChild){\n            replacementParent.leftChild = replacement.rightChild;\n            replacement.rightChild = replacdNode.rightChild;\n        }\n\n        return replacement;\n    }\n\n    updateTree2 ( newRoot, dimensions, stepping) {\n        this.root = newRoot\n\n        this.position(dimensions)\n   \n        this.nodes = this.getNodesInOrder()\n    \n        this.nodesSortedByIndex = this.nodes.sort((a, b) => a.index - b.index)\n    \n        this.links = this.genAVLTreeLinks()\n    \n        return { ...this, __proto__: this.__proto__ }\n    }\n  \n}","import {AVLNode} from './AVLTreeDS'\nimport * as H from '../../../Utils/helpers'\n\nexport const findRoot = (root, value) => {\n\n    if(!root) return null;\n    \n    if(value === root.value) return root\n\n    if(value < root.value){\n        return findRoot(root.leftChild, value)\n    } else \n    if(value > root.value){\n        return findRoot(root.rightChild, value)\n    } \n\n}\n\nexport const calcHeight = root =>  {\n\n    if(!root) return 0;\n\n    if(root && root.left !== undefined && root.right !== undefined){\n        return Math.max(root.left, root.right)+1\n    }\n\n    return Math.max(calcHeight(root.leftChild), calcHeight(root.rightChild) )+1\n    \n}\n\nexport const balanceFactor = root => {\n\n    if(!root) return 0;\n\n    if(root && root.left !== undefined && root.right !== undefined){\n        return root.left - root.right\n    }\n\n    return calcHeight(root.leftChild) - calcHeight(root.rightChild);\n}\n\n\n\nexport const isLeftHeavy = root => {\n    return balanceFactor(root) > 1;\n}\n\nexport const isRightHeavy = root => {\n    return balanceFactor(root) < -1;\n}\n\nexport const leftRotate = (root) => {\n    const {rightChild} = root;\n    const {leftChild}  = rightChild;\n    const updateRoot = {...root, rightChild: leftChild ? {...leftChild} : null}\n    const newRoot = {...rightChild, leftChild: {...updateRoot}}\n\n    return {...newRoot};\n}\n\nexport const rightRotate = (root) => {\n    const {leftChild} = root;\n    const {rightChild}  = leftChild;\n    const updateRoot = {...root, leftChild: rightChild ? {...rightChild} : null}\n    const newRoot = {...leftChild, rightChild: {...updateRoot}}\n\n    return {...newRoot};\n}\n\nexport const balance = (root) => {\n        \n    if(!root) return null;\n\n    if(isLeftHeavy(root)) {\n      \n        if(balanceFactor(root.leftChild) < 0){\n            root.leftChild = {...leftRotate(root.leftChild)}                \n        }\n\n        return {...rightRotate(root)}\n\n    } else if(isRightHeavy(root)) {\n      \n        if(balanceFactor(root.rightChild) > 0) {\n            root.rightChild = {...rightRotate(root.rightChild)};\n        }\n       \n        return {...leftRotate(root)};\n        \n    }\n    return {...root};\n}\n\nconst __rootInsert = (root, value, index, last=false)=> {\n    \n    if(!root) {\n        return {...(new AVLNode(value, index)), last } ;\n    }\n    \n    if(value < root.value){\n        return balance({...root, leftChild: __rootInsert(root.leftChild, value, index, last)})\n    } else {\n        return balance({...root, rightChild: __rootInsert(root.rightChild, value, index, last)})\n    }\n    \n}\n\nexport const rootInsert = (root, value, index, last=false) => {\n   const exist = findRoot(root, value) \n   if(!exist){\n       return __rootInsert(root, value, index, last)\n   } \n   return null\n\n}\n\nexport const balancePath = (root, value)=> {\n\n    if(!root) return null\n    \n    if(root.value === value) return root\n\n    if(value < root.value){\n        return balance({...root, leftChild: balancePath(root.leftChild, value)})\n    } else {\n        return balance({...root, rightChild: balancePath(root.rightChild, value)})\n    }\n      \n}\n\nexport const duplicateRoot = root => {\n\n    if(!root) return null;\n\n    return {\n        ...root,\n        leftChild: duplicateRoot(root.leftChild),\n        rightChild: duplicateRoot(root.rightChild)\n    }\n\n} \n\nexport const updateRowOnNodes = (nodes, tree) => {\n    \n    if(H.empty(nodes) || !tree || (tree && !tree.root)) return {}\n\n    const [first, rest] = H.firstAndRest(nodes)\n\n    const root = findRoot(tree.root, first[1].value)\n\n\n    if(!root) return {}\n\n\n    const updatedNode = {...first[1], level: root.height}\n\n    return { [first[0]]: updatedNode, ...updateRowOnNodes(rest, tree)}\n\n}\n\nexport const nodeProperties = (first) => {\n  \n    if(Array.isArray(first)) return {...first[1], index: first[0]}\n  \n    return first\n\n}\n\nconst insertNodes = (nodes, root) => {\n    \n    if(H.empty(nodes)) return root\n\n    const last = H.length(nodes) === 1\n\n    const [ first, rest ] = H.firstAndRest(nodes)\n\n    const { value, index } = nodeProperties(first)\n\n    const newRoot = rootInsert( root, value, index, last )\n\n    return insertNodes(rest, newRoot)\n\n} \n\nconst __nodesAtDistance = (root, nodes, distance) => {\n\n    if(!root) return [];\n  \n    if(distance === 0) {\n        const {index} = root\n        return [{...nodes[index], index: +index}]\n    }\n\n    return [\n        ...__nodesAtDistance(root.leftChild,  nodes, distance-1),\n        ...__nodesAtDistance(root.rightChild, nodes, distance-1)\n    ]\n\n}\n\nconst nodesAtDistance = (root, nodes, distance=0) => {\n\n    if(!root) return []\n\n    return __nodesAtDistance(root, nodes, distance)\n\n}\n\nconst setLevelOnNodes = (nodes, level) => {\n\n    if(H.empty(nodes)) return []\n\n    const [first, rest] = H.firstAndRest(nodes)\n\n    return [\n        { ...first, level },\n        ...setLevelOnNodes(rest, level)\n    ]\n\n}\n\n\nexport const nodesOrderedByLevel = (root, inputNodes, level=0) => {\n\n    const nodes = nodesAtDistance(root, inputNodes, level)\n    \n    if(H.empty(nodes)) return []\n\n    const newNodes = setLevelOnNodes(nodes, level).sort((a,b)=> a.index - b.index)\n\n    return [\n        newNodes,\n        ...nodesOrderedByLevel(root, inputNodes, level+1)\n    ]\n\n}\n\nexport const insertNodesBylevel = (leveledNodes, tree) => {\n\n    if(!tree) return null\n\n    if(H.empty(leveledNodes)) return tree.root\n\n    const [first, rest] = H.firstAndRest(leveledNodes)\n\n    tree.root = insertNodes(first)\n\n    return insertNodesBylevel(rest, tree)\n\n}\n\nexport const levelNodes = nodes => {\n\n    const root = insertNodes(nodes)\n        \n    return nodesOrderedByLevel(root, nodes).flat()\n\n}\n\nconst stepMessage = (msg, value) => {\n    this.status = { msg, value } \n}\n\nconst getReplacementNode = (replacedNode) => {\n\n    let replacementParent = replacedNode;\n    let replacement = replacedNode;\n    \n    let focusNode = replacedNode.rightChild\n\n    while (focusNode != null){\n        replacementParent = replacement;\n        replacement = focusNode;\n        focusNode = focusNode.leftChild;\n    }\n\n    if(replacement !== replacedNode.rightChild){\n        replacementParent.leftChild = replacement.rightChild;\n        replacement.rightChild = replacedNode.rightChild;\n    }\n\n    return replacement;\n}\n\nconst getTargetAndParent = (root, node, parent, side=true, step) => {\n    if(!root) return [root, parent, side];\n\n    const {value, index} = node\n   \n    if(root.value === value && root.index === index) {\n        if(step === 0){\n            stepMessage(`Found Target ${value} ${parent ? 'and Parent ' + parent.value :'' }`)\n        }\n        return [root, parent, side]\n    }    \n   \n    if(step === 0){\n        stepMessage(`Searching for Target ${value} and it's parent`)\n        root.stepped = true\n        return [null, parent, side];\n    }\n\n    if(value < root.value){\n        return getTargetAndParent(root.leftChild, node, root, true, step-1)\n    } else {\n        return getTargetAndParent(root.rightChild, node, root, false, step-1)\n    }\n}\n\nexport const deleteNode = (root, node, step) => {\n    let focusNode = root\n    let parent = root\n\n    let isItAtLeftChild = true;\n\n    const [target, p, side] = getTargetAndParent(root, node, true, step)\n    \n    if(!target) return null\n\n    focusNode = target\n    parent = p;\n    isItAtLeftChild = side;\n\n    if(!focusNode.leftChild && !focusNode.rightChild){\n        if(focusNode === root){\n\n            root = null\n\n        } else if(isItAtLeftChild){\n\n            parent.leftChild = null;\n\n        } else {\n\n            parent.rightChild = null;\n\n        }\n    } else \n    if(!focusNode.rightChild){\n        if(focusNode === root){\n\n            root = focusNode.leftChild;\n\n        } else\n        if(isItAtLeftChild){\n\n            parent.leftChild = focusNode.leftChild;\n\n        } else {\n\n            parent.rightChild = focusNode.leftChild;\n\n        }\n    } else \n    if(!focusNode.leftChild){\n        if(focusNode === root){\n\n            root = focusNode.rightChild;\n\n        } else \n        if(isItAtLeftChild){\n\n            parent.leftChild = focusNode.rightChild\n\n        } else {\n\n            parent.rightChild = focusNode.rightChild;\n\n        }\n    } else {\n        const replacement = getReplacementNode(focusNode)\n        \n        if(focusNode === root){\n\n            root = replacement;\n\n        } else\n        if(isItAtLeftChild) {\n\n            parent.leftChild = replacement\n\n        } else {\n\n            parent.rightChild = replacement;\n\n        }\n\n        replacement.leftChild = focusNode.leftChild;\n    }\n    return root;\n}\n\n\nconst nodesToArray = nodes => {\n\n    if(H.empty(nodes)) return []\n\n    const [first, rest] = H.firstAndRest(nodes)        \n\n    const data = {\n        index: +first[0], \n        deleted: false,\n        ...first[1],\n    }\n\n    return [data, ...nodesToArray(rest)]\n\n}\n\nconst getDeletedNodes = nodes => {\n\n    if(H.empty(nodes)) return []\n    \n    const [first, rest] = H.firstAndRest(nodes)\n\n    let data = []\n  \n    if(first.deleted){\n       data = [ {...first} ]\n    }\n\n    return [...data, ...getDeletedNodes(rest)]\n\n}\n\n\nconst __deleteNodes = nodes => {\n \n    if(H.empty(nodes)) return this\n\n    const [first, rest] = H.firstAndRest(nodes) \n\n    deleteNode(first.value)\n\n    return __deleteNodes(rest)\n\n}\n\nexport const deleteNodes = nodeObjects => {\n\n    if(H.empty(nodeObjects)) return this \n\n    const nodes = nodesToArray(nodeObjects)\n    \n    const sortedNodes = nodes.sort((a,b)=> a.step - b.step)\n    \n    const deletedNodes = getDeletedNodes(sortedNodes)\n    \n    return __deleteNodes(deletedNodes)\n    \n}\n\nexport const deleteAndBalalnce = (nodes, root) => {\n    \n    if(!root) return null\n    if(H.empty(nodes) ) return root\n\n    const [first, rest] = H.firstAndRest(nodes)\n   \n    let newRoot = deleteNode(root, first.value)\n\n    newRoot = newRoot || root\n\n    newRoot = balancePath( newRoot, first.value)\n\n    return deleteAndBalalnce(rest, newRoot)\n\n}\n\nexport function calcSides (root, col=0, row=0) {\n    if(!root) return 0;\n    \n    const leftSide  = calcSides(root.leftChild,  col - 1,  row + 1);\n    const rightSide = calcSides(root.rightChild, col + 1,  row + 1);\n\n    root = { \n        ...root, \n        col, row,\n        width: leftSide + rightSide + 1, \n        leftSide,\n        rightSide\n    }\n\n    return root.width\n}\n\nexport function calcSides2(root, x=0, y=0){\n    if(!root) return 0;\n    root.col   = x;\n    root.row   = y;\n    root.leftSide  = calcSides(root.leftChild,  x - 1,  y + 1);\n    root.rightSide = calcSides(root.rightChild, x + 1,  y + 1);\n    root.width = root.leftSide  + root.rightSide + 1 ; \n    return root.width\n}\n\n\n","import * as TYPES from './types'\n\nimport {stepInsert}  from '../steps/insert'\nimport {stepBalance} from '../steps/balance'\nimport {stepDelete}  from '../steps/delete'\nimport * as stepper  from '../steps/stepper'\n\nimport { duplicateRoot } from '../AVLTreeDS-helpers'\nimport { findRoot }      from '../steps/step-helper'\n\nconst dispatchPayload = (payload, type, dispatch ) => {\n    dispatch({type, payload})\n}\n\nconst insertUpdate = (avl, dispatch) => {\n    dispatchPayload({...avl, root: duplicateRoot(avl.root)}, TYPES.AVLTREE_INSERT_ROOT, dispatch)\n}\n\nconst balanceUpdate = (avl, dispatch) => {\n    dispatchPayload({...avl, root: duplicateRoot(avl.root)}, TYPES.AVLTREE_BALANCE_ROOT, dispatch)\n    if(avl.done) {\n        dispatch({type: TYPES.AVLTREE_CLEAR_INSERT_INPUT_CHANGED})\n        dispatch({type: TYPES.AVLTREE_CLEAR_DELETE_INPUT})\n    }    \n}\n\nconst deleteUpdate = (avl, dispatch) => {\n    dispatchPayload({...avl, root: duplicateRoot(avl.root)}, TYPES.AVLTREE_BALANCE_ROOT, dispatch)\n}\n\nconst updateMode = (mode, dispatch) => {\n    dispatchPayload({mode, done: false}, TYPES.AVLTREE_SET_MODE, dispatch)\n}\n\nexport const disableControls = (dispatch) => {\n    dispatch({type: TYPES.AVLTREE_DISABLE_CONTROLS})\n}\n\nexport const avlSetMode = (mode) => dispatch => {\n    updateMode(mode, dispatch)\n}\n\nconst updateHistory = ( history, update)  => { \n    return { ...history, ...update }\n}\n\nconst _avlBalance = (avl, value, step, dispatch) => {\n\n    if(!avl.root){\n        dispatch({type: TYPES.AVLTREE_CLEAR_INSERT_INPUT_CHANGED})\n        dispatch({type: TYPES.AVLTREE_CLEAR_DELETE_INPUT})\n        return\n    }\n\n    const { history, mainStep, mode, index } = avl\n    \n    if(mode !== 'balance' ) return \n\n    const result = stepBalance(avl.root, {value}, step)\n\n    const status = result.taskDone\n                        ? {mode:'', prevMode:mode, modeStep: 0, done: true} \n                        : {mode:'balance', prevMode: mode, modeStep: step+1, done: false} \n\n    const updatedHistory = updateHistory( history, {[mainStep]: {...status, index}} )\n\n    balanceUpdate({\n        ...avl, \n        ...result, \n        ...status,\n        history: updatedHistory, \n        mainStep: mainStep+1,\n        stepIndex: mainStep,\n    }, dispatch)\n\n}\n\nexport const avlBalance = (value, step) => (dispatch, getState) => {\n    \n    const {avl} = getState()\n\n    const newValue = value || avl.focusValue\n    const modeStep = step  || avl.modeStep\n\n    _avlBalance(avl, newValue, modeStep, dispatch)\n   \n}\n\nexport const avlInsert = () => ( dispatch, getState )=> {\n    \n    const { value } = getState().avl\n    const { avl }   = getState()\n    const { history, mainStep, modeStep, mode, prevMode, done, index } = avl\n    \n    if(mode === 'balance') return _avlBalance(avl, value, modeStep, dispatch)\n\n    if(mode !== 'insert' ) return \n    \n    const result = stepInsert(avl.root, {value, index}, modeStep)\n    \n    const {exist} = result\n    \n    if(exist && done){\n       return null \n    } \n    \n    const status = result.done \n    ? { focusValue: value, mode:'balance', prevMode: 'insert', modeStep: 0,          insertButtonPressed: false, done: false } \n    : { focusValue: value, mode:'insert',  prevMode: mode,     modeStep: modeStep+1, insertButtonPressed: true }\n\n    const updatedHistory = updateHistory( history, {[mainStep]: {\n        ...status, \n        index: prevMode !== 'insert' ? index+1 : index\n    }} )\n\n    if( !isNaN(value) ){\n        insertUpdate({\n                ...avl, \n                ...result, \n                ...status, \n                history: updatedHistory, \n                mainStep: mainStep+1,\n                stepIndex: mainStep,\n                index: prevMode !== 'insert' ? index+1 : index\n            }, \n            dispatch\n        )\n    }\n    \n}\n\nexport const avlDelete = () => (dispatch, getState) => {\n    \n    const { avl } = getState()\n\n    const {\n        history, mainStep, modeStep, \n        mode, done, \n        deleteValue, deleteIndex\n    } = avl\n    \n    if(mode === 'balance') return _avlBalance(avl, deleteValue, modeStep, dispatch)\n    \n    if(!deleteIndex && mode !== 'delete') return null\n\n    if(mode !== undefined && mode !== '' && mode !== 'delete' ) return \n    \n    const result = stepDelete(avl.root, {deleteValue, deleteIndex}, modeStep)\n    \n    const {exist} = result\n    \n    if(exist && done){\n        return null \n     } \n    \n    const status = result.done \n        ? { focusValue: deleteValue, mode:'balance', modeStep: 0, done: false} \n        : { focusValue: deleteValue, mode:'delete', modeStep: modeStep+1}\n\n    const updatedHistory = updateHistory( history, {[mainStep]: {...status, deleteIndex}} )\n    \n    if(!isNaN(deleteValue)){\n        deleteUpdate({\n                ...avl, \n                ...result, \n                ...status, \n                history: updatedHistory, \n                mainStep: mainStep+1,\n                stepIndex: mainStep,\n                deleteIndex \n            }, \n            dispatch\n        )\n    } \n}\n\nexport const deleteTextChanged = (input) => (dispatch, getState) => {\n    const { avl } = getState()\n    let target;\n    \n    if(input.currentTarget){\n        target = input.currentTarget\n    }else{\n        target = input\n    }\n\n    if(isNaN( target.value )) return;\n\n    avl.canDelete = (!isNaN( target.value ) && target.value.length <= 5 && target.value.length !== 0)\n\n    avl[target.name] = target.value !== '' ?  +target.value : ''\n\n    const targetExist = findRoot(avl.root, +target.value)\n\n    if(targetExist){\n        avl.deleteIndex = targetExist.index\n    }\n\n    dispatch( {type: TYPES.AVLTREE_DELETE_INPUT_CHANGED, payload: { ...avl } } )\n}\n\nexport const clearDeleteText = () => (dispatch) => {\n    dispatch({type: TYPES.AVLTREE_CLEAR_DELETE_INPUT})\n}\n\nexport const textChanged = (input) => (dispatch, getState) => {\n\n    const { avl } = getState()\n    \n    let target;\n    if(input.currentTarget){\n        target = input.currentTarget\n    }else{\n        target = input\n    }\n      \n    avl.canInsert = (!isNaN( target.value ) && target.value.length <= 5 && target.value.length !== 0)\n\n    if(isNaN( target.value )) return; \n\n    avl[target.name] = target.value !== '' ?  +target.value : ''\n\n    dispatch( {type: TYPES.AVLTREE_INSERT_INPUT_CHANGED, payload: {...avl } } )\n\n}\n\nexport const clearInsertInput = () => (dispatch) => {\n    dispatch({type:TYPES.AVLTREE_CLEAR_INSERT_INPUT_CHANGED})\n}\n\nexport const clearAll = () => ( dispatch, getState )=> {\n    dispatch({type: TYPES.AVLTREE_CLEAR_ALL})\n}\n\nexport const stepUp = () => (dispatch, getState) => {\n    const { avl } = getState()\n    const { stepIndex, history} = avl\n    const canStepUp = stepIndex+1 < Object.keys(history).length \n    const newStepIndex = canStepUp ? stepIndex + 1 : stepIndex\n\n    dispatch({ \n        type:TYPES.AVLTREE_STEP_UP, \n        payload: {\n            ...avl, \n            stepIndex: newStepIndex,\n            stepRoot: stepper.steps(avl)\n        } \n    })\n}\n\nexport const stepDown = () => (dispatch, getState) => {\n    const { avl } = getState()\n    const { stepIndex } = avl\n    const canStepUp = stepIndex-1 > 0\n    const newStepIndex = canStepUp ? stepIndex - 1 : stepIndex\n\n    dispatch({ \n        type:TYPES.AVLTREE_STEP_DOWN, \n        payload: {\n            ...avl, \n            stepIndex: newStepIndex,\n            stepRoot: stepper.steps(avl)\n        } })\n}\n\nexport const toggleStepping = () => (dispatch, getState) => {\n\n    const { avl } = getState()\n    const { stepping, stepIndex, history } = avl\n    const { maxIndex } = stepper.compactHistory(history)\n    const selectedIndex = stepIndex > maxIndex ? maxIndex : stepIndex  \n\n    dispatch({ \n        type: TYPES.AVLTREE_TOGGLE_STEPPING, \n        payload: { \n            ...avl, \n            stepIndex: selectedIndex,\n            stepping: !stepping,\n            stepRoot: stepper.steps(avl)\n        }\n    })\n\n} \n\n\n ","export const AVLTREE_CLEAR_ALL = 'AVLTREE_CLEAR_ALL'\n\nexport const AVLTREE_STEP_UP = 'AVLTREE_STEP_UP'\nexport const AVLTREE_STEP_DOWN = 'AVLTREE_STEP_DOWN'\n\nexport const AVLTREE_INSERT_ROOT = 'AVLTREE_INSERT_ROOT'\nexport const AVLTREE_BALANCE_ROOT = 'AVLTREE_BALANCE_ROOT'\nexport const AVLTREE_DELETE_ROOT = 'AVLTREE_DELETE_ROOT'\n\nexport const AVLTREE_INSERT_INPUT_CHANGED = 'AVLTREE_INSERT_INPUT_CHANGED'\nexport const AVLTREE_CLEAR_INSERT_INPUT_CHANGED = 'AVLTREE_CLEAR_INSERT_INPUT_CHANGED'\nexport const AVLTREE_DELETE_INPUT_CHANGED = 'AVLTREE_DELETE_INPUT_CHANGED'\nexport const AVLTREE_CLEAR_DELETE_INPUT = 'AVLTREE_CLEAR_DELETE_INPUT'\n\nexport const AVLTREE_UPDATE_MSG = 'AVLTREE_UPDATE_MSG'\nexport const AVLTREE_CLEAR_MSG = 'AVLTREE_CLEAR_MSG'\n\nexport const AVLTREE_SET_MODE = 'AVLTREE_SET_MODE'\nexport const AVLTREE_CLEAR_MODE = 'AVLTREE_CLEAR_MODE'\n\nexport const AVLTREE_ENABLE_CONTROLS = 'AVLTREE_ENABLE_CONTROLS'\nexport const AVLTREE_DISABLE_CONTROLS = 'AVLTREE_DISABLE_CONTROLS'\n\nexport const AVLTREE_ENABLE_INSERT = 'AVLTREE_ENABLE_INSERT'\nexport const AVLTREE_DISABLE_INSERT = 'AVLTREE_DISABLE_INSERT'\n\nexport const AVLTREE_ENABLE_DELETE = 'AVLTREE_ENABLE_DELETE'\nexport const AVLTREE_DISABLE_DELETE = 'AVLTREE_DISABLE_DELETE'\n\nexport const AVLTREE_TOGGLE_STEPPING = 'AVLTREE_TOGGLE_STEPPING'","import React, { Component } from 'react'\n\nexport class Gears extends Component {\n    render() {\n        return (\n            <div id='gears'>\n                <svg \n                    \n                    viewBox=\"0 0 300 300\"\n                    height=\"100\"\n                    width=\"100\"> \n                        <g>\n                            <rect\n                                transform=\"rotate(-90)\"\n                                y=\"0\"\n                                x=\"-300\"\n                                height=\"300\"\n                                width=\"300\"\n                                id=\"rect833\"\n                                style={{fill:'#241c1c00', strokeWidth: 5.97344}} />\n                            <path\n                                d=\"m 90.389059,31.189704 c -0.638109,-0.0068 -1.318351,2.95e-4 -2.046085,0.02443 -23.767955,0.788292 1.318439,14.69423 -20.405238,24.434627 C 46.653242,65.19224 52.825281,37.156975 36.901053,54.280676 20.648247,71.757704 48.15307,63.730621 39.633556,86.082489 31.28628,107.98247 15.959872,83.765677 16.727061,107.20988 c 0.783018,23.92798 14.593823,-1.3273 24.269089,20.54262 9.479665,21.42779 -18.3674,15.2146 -1.358202,31.24603 17.36016,16.36222 9.387511,-11.3283 31.589917,-2.75143 21.753545,8.40346 -2.301171,23.83432 20.986278,23.06195 23.767947,-0.78829 -1.318438,-14.69421 20.405237,-24.43462 21.2845,-9.54347 15.11246,18.49179 31.03668,1.36808 16.25281,-17.47702 -11.25202,-9.44994 -2.7325,-31.8018 8.34728,-21.9 23.67369,2.31681 22.9065,-21.12742 -0.78303,-23.927948 -14.5953,1.32731 -24.27056,-20.5426 -9.47967,-21.427782 18.3674,-15.214602 1.35821,-31.246029 -17.36016,-16.362216 -9.38606,11.328298 -31.58847,2.751435 -21.073739,-8.140862 0.84122,-22.87558 -18.940181,-23.086392 z m -0.13904,52.787221 a 20.913173,21.28503 0 0 1 0.0278,0 A 20.913173,21.28503 0 0 1 111.19093,105.2616 20.913173,21.28503 0 0 1 90.27782,126.54626 20.913173,21.28503 0 0 1 69.36472,105.2616 20.913173,21.28503 0 0 1 90.250012,83.976925 Z m 0.01609,12.51276 c -4.818841,0.006 -8.907282,4.346905 -8.90735,8.771915 7.2e-5,4.42874 4.096134,8.7719 8.919059,8.77191 4.822922,-1e-5 8.918992,-4.34317 8.919062,-8.77191 -7e-5,-4.42876 -4.09614,-8.771895 -8.919062,-8.771915 a 11.995956,12.514762 0 0 1 -0.0073,0 z\"\n                                style={{ }}\n                                id=\"gearOne\">\n                                <animateTransform\n                                    id=\"gear_1\"\n                                    attributeName=\"transform\"\n                                    type=\"rotate\"\n                                    from=\"0 90.2 105.1\"\n                                    to=\"90 90.2 105.1\"\n                                    begin=\"0s;gear_1.end\"\n                                    dur=\"0.5s\"\n                                />\n                            </path>   \n                            <path\n                                d=\"M 202.72852 109.60156 C 183.04979 109.48802 202.42507 122.9962 181.10547 129.70898 C 159.66318 136.4604 169.17143 112.48689 151.36523 126.4668 C 133.08981 140.8151 158.33621 137.60419 145.82422 157.4082 C 133.63348 176.70374 125.88084 152.07777 121.00977 174.51562 C 116.01034 197.54476 133.33598 178.45305 136.17383 201.86523 C 138.93882 224.6763 117.55125 210.91952 127.89453 231.31641 C 138.51038 252.25078 139.80618 226.21377 156.66602 242.2793 C 173.09296 257.93234 148.08093 261.48099 168.79883 270.29297 C 190.06269 279.33716 174.72389 258.53664 197.7168 259.73828 C 220.11936 260.90906 203.18365 280.10318 224.58203 273.20703 C 246.5443 266.12915 221.74593 260.29873 240.11328 246.07422 C 258.00904 232.21492 257.07626 258.07476 269.14258 238.69727 C 281.52687 218.80914 258.87398 230.67649 264.02148 207.68164 C 269.03682 185.27718 284.54257 205.70009 281.63086 182.9082 C 278.64243 159.51571 268.73482 183.52908 258.25391 162.52344 C 248.04209 142.05711 272.73044 147.48703 256.20312 131.94531 C 239.24029 115.99406 246.71302 140.91618 225.50781 131.72852 C 204.84706 122.77674 227.16547 110.67565 204.75586 109.65625 C 204.03711 109.62355 203.36331 109.60523 202.72852 109.60156 z M 201.05078 163.01953 A 31.395559 29.129698 0 0 1 232.44531 192.15039 A 31.395559 29.129698 0 0 1 201.05078 221.2793 A 31.395559 29.129698 0 0 1 169.6543 192.15039 A 31.395559 29.129698 0 0 1 201.05078 163.01953 z \"\n                                style={{}}\n                                id=\"gearTwo\">\n                                <animateTransform\n                                    id=\"gear_2\"\n                                    attributeName=\"transform\"\n                                    type=\"rotate\"\n                                    from=\"0 201.3 191.9\"\n                                    to=\"-81 201.3 191.9\"\n                                    begin=\"gear_1.begin\"\n                                    dur=\"0.5s\"\n                                />\n                            </path>\n                        </g>\n                </svg>  \n            </div>      \n        )\n    }\n}\n\nexport default Gears\n\n","import React, { useRef, useEffect, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { select } from 'd3-selection'\n\n\n\nimport {\n    clearAll, textChanged,\n    avlInsert, avlDelete, avlBalance, avlSetMode, deleteTextChanged,\n    toggleStepping, stepUp, stepDown\n} from './actions'\n\nimport { pageChange } from '../../../actions'\nimport useResizeObserver from '../../../useResizeObserver'\nimport { showSelection } from '../Selections/selections'\nimport { AVLTreeDS } from './AVLTreeDS'\n\nimport './avltree.css'\nimport AlgoSVG from '../../AlgoSVG'\nimport { findRoot } from './steps/step-helper'\nimport * as stepper from './steps/stepper'\n\nimport Gears from '../../Gears'\n\n\nconst AVLTree = (props) => {\n\n    const { avl, avlTree, avlTreeInputs } = props\n    const { stepping } = avl\n\n    const [selection, setSelection] = useState(null)\n\n    const upButton = useRef(null)\n    const downButton = useRef(null)\n    const stepMessage = useRef(null)\n\n    const wrapperRef = useRef();\n    const dimensions = useResizeObserver(wrapperRef)\n\n    const insertRefStep = useRef(0)\n    const balanceRefStep = useRef(0)\n    const deleteRefStep = useRef(0)\n\n    const graph = useRef({})\n\n    const insertButtonPressed = useRef(false)\n    const deleteButtonPressed = useRef(false)\n\n    const inputValue = useRef('')\n\n    useEffect(() => {\n        if (!selection) {\n\n            setSelection(select(wrapperRef.current))\n\n        } else {\n\n            if (!dimensions) return\n\n            const svg = selection;\n\n            let tree = new AVLTreeDS();\n\n            if (stepping && avl.root) {\n                const stepRoot = { ...avl.stepRoot.root, width: 0, leftSide: 0, rightSide: 0 }\n                tree.updateTree2(stepRoot, dimensions)\n                stepMessage.current = avl.stepRoot.msg\n            } else {\n                tree.updateTree2(avl.root, dimensions)\n                stepMessage.current = avl.msg\n            }\n\n            graph.current = {\n                ...graph.current,\n                nodes: tree.nodesSortedByIndex,\n                links: tree.links,\n                nodeType: 'circle',\n                linkType: 'line',\n                tree,\n                msg: stepMessage.current\n            }\n\n            showSelection(svg, graph)\n\n            insertRefStep.current = tree.insertRefStep\n            balanceRefStep.current = tree.balanceRefStep\n            deleteRefStep.current = tree.deleteRefStep\n\n            if (stepping) {\n                stepper.steps(avl)\n            } else {\n                if (!avl.done) {\n                    setTimeout(() => {\n                        switch (avl.mode) {\n                            case 'insert':\n                                props.avlInsert()\n                                break\n                            case 'delete':\n                                props.avlDelete()\n                                break\n                            case 'balance':\n                                props.avlBalance()\n                                break\n                            default:\n                                break\n                        }\n\n                    }, 400)\n                }\n            }\n\n        }\n    }, [avl, selection, avlTree, avlTreeInputs, dimensions, props, stepping])\n\n    const handleInsertWithMode = (el) => {\n\n        if (!avl.root || !findRoot(avl.root, avl.value)) {\n            insertButtonPressed.current = true\n            props.avlSetMode('insert')\n        }\n    }\n\n    const handleDeleteWithMode = (el) => {\n        if (avl.root || findRoot(avl.root, avl.deleteValue)) {\n            insertButtonPressed.current = true\n            props.avlSetMode('delete')\n        }\n    }\n\n    const inputLength = (value) => value ? value.toString().length : 0\n\n    const disableInsert = () => {\n        if (avl.done) insertButtonPressed.current = false\n        return !(\n            !insertButtonPressed.current &&\n            !isNaN(avl.value) &&\n            inputLength(avl.value) !== 0 &&\n            inputLength(avl.value) < 5 &&\n            (!avl.root || !findRoot(avl.root, avl.value))\n        )\n    }\n\n    const disableDelete = () => {\n        if (avl.done) deleteButtonPressed.current = false\n        return !(\n            !deleteButtonPressed.current &&\n            !isNaN(avl.value) &&\n            inputLength(avl.deleteValue) !== 0 &&\n            inputLength(avl.deleteValue) < 5 &&\n            findRoot(avl.root, avl.deleteValue)\n        )\n    }\n\n    const handleStepping = () => {\n        if (avl.root) props.toggleStepping()\n    }\n\n    const insertErrors = () => {\n        if (findRoot(avl.root, avl.value)) return 'Value already exist.'\n        return null\n    }\n    const deleteErrors = () => {\n        if (avl.deleteValue !== \"\" && !findRoot(avl.root, avl.deleteValue)) return 'Value is not in tree'\n        return null\n    }\n    const errors = () => {\n        return insertErrors() || deleteErrors()\n    }\n\n    const displayStatus = (msg) => {\n        const err = errors()\n\n        const canMessage = !avl.done || stepping\n        const haveMessage = msg !== \"\"\n\n        const message = canMessage && haveMessage ? msg : (err || '')\n\n        return (\n            <div className=\"status\">\n                <p >\n                    {message}\n                </p>\n            </div>\n        )\n    }\n\n    const stepUp = () => {\n        props.stepUp()\n    }\n    const stepDown = () => {\n        props.stepDown()\n    }\n\n    const handleTextChanged = (el) => {\n        inputValue.current = avl.value\n        props.textChanged(el)\n    }\n\n    const busy = () => {\n        if ((!avl.done)) return <Gears />\n        return null\n    }\n\n    return (\n        <div className=\"section-avl\">\n            <div className=\"controls\" >\n                <div className='inputs'>\n                    <div className=\"inputSet\">\n                        <input placeholder=\"Enter a new value\" id=\"input-insert\" autoComplete=\"off\" name=\"value\" onChange={handleTextChanged} value={avl.value} disabled={(!avl.done || avl.stepping)} />\n                        <button id=\"btn--insert\" className=\"input-buttons\" onClick={handleInsertWithMode} disabled={disableInsert() || stepping}>Insert</button>\n                    </div>\n                    <div className=\"inputSet\">\n                        <input placeholder=\"Enter a value in tree\" id=\"input-delete\" autoComplete=\"off\" name=\"deleteValue\" onChange={props.deleteTextChanged} value={avl.deleteValue} disabled={(!avl.done || avl.stepping)} />\n                        <button id=\"btn--delete\" className=\"input-buttons\" onClick={handleDeleteWithMode} disabled={disableDelete() || stepping}>Delete</button>\n                    </div>\n\n                </div>\n\n                <div className='step-buttons'>\n                    <button id=\"btn--step\" onClick={handleStepping} disabled={!avl.root}>{stepping ? 'Steps Enabled' : 'Enable Steps'}</button>\n                    <div className=\"direction-buttons\">\n                        <button id=\"btn--backwards\" ref={downButton} onClick={stepDown} disabled={!stepping}>Step Back</button>\n                        <button id=\"btn--forwards\" className=\"right-step-btn\" ref={upButton} onClick={stepUp} disabled={!stepping}>Step Forward</button>\n                    </div>\n                </div>\n\n                <button id=\"btn--clear\" onClick={props.clearAll} disabled={stepping || !avl.root}>Clear All</button>\n\n            </div>\n            <div ref={wrapperRef} className=\"svg-wrapper\">\n                <div className=\"status-box\">\n                    {displayStatus(stepMessage.current)}\n                    {busy()}\n                </div>\n                <AlgoSVG />\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return state;\n}\n\nexport default connect(\n    mapStateToProps, {\n    clearAll, textChanged,\n    avlInsert, avlDelete, avlBalance, avlSetMode, deleteTextChanged,\n    toggleStepping, stepUp, stepDown,\n    pageChange\n}\n)(AVLTree);\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport { pageChange } from '../actions'\n\nexport class Links extends Component {\n    \n    style = {\n        fontFamily: 'sans',\n        fontSize: '1.2rem',\n        textDecoration: 'none',\n        padding: '2px 8px',\n        \n    } \n\n    linkStyle = (pageName) => {\n        if(this.props.pageName === pageName){\n            return { ...this.style, borderBottomColor: '#3bba9c' }\n        }\n        return this.style\n    }\n\n    cssClass = (pageName) => {\n        if(this.props.pageName === pageName){\n            return 'nav-link-focus'\n        }\n        return 'nav-link'\n    }\n\n    handleLink = (e) => {\n        this.props.pageChange(e.currentTarget.text)\n    }\n\n    render() {\n        return (\n            <div className=\"nav\">\n                <Link  onClick={this.handleLink} className={this.cssClass('Stack LinkList')}  to=\"/stackll\">\n                    {/* <i className=\"sign out icon\" /> */}\n                        Stack LinkList\n                </Link>\n                <Link  onClick={this.handleLink} className={this.cssClass('AVL Tree')} to=\"/avl_tree\">\n                    {/* <i className=\"sign out icon\" /> */}\n                        AVL Tree\n                </Link>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {pageName: state.page.name};\n}\n\nexport default connect(\n    mapStateToProps, \n    {pageChange}\n)(Links)\n\n","import * as TYPES from '../actions/types'\n\nconst page = (p = {name: '' }, action) => {\n    switch (action.type) {\n        case TYPES.PAGE_CHANGE:\n            return {...p, name: action.payload}\n        default:\n            return p\n    }\n}                \n\nexport default { page }","const reduceAction = (state, action) => ({ ...state, ...action.payload })\nconst reducedTabel = {\n    PAUSE: reduceAction, \n    FORWARD: reduceAction, \n    BACKWARD: reduceAction, \n    UPDATE_STEP: reduceAction, \n}\n\n//Stepper must be called by another reducer \nexport const stepper =  (nodes={}, action) => {\n    return reducedTabel[action.type]\n        ? reducedTabel[action.type](nodes, action)\n        : false;\n}","import { stackLL,  stackLLInputs } from './stackLLReducer'\n\nexport default {\n    stackLL,\n    stackLLInputs\n}","import * as TYPES from '../actions/types'\nimport {stepper} from '../../Stepper/reducer'\n\nexport const stackLLInputs = (inputData={index:0, value:''}, action) => {\n    switch(action.type) {\n        case TYPES.SLL_CLEAR_ON_INC:\n            return {...inputData,  ...action.payload };\n        case TYPES.SLL_CLEAR_ON_DEC:\n            return {...inputData,  ...action.payload };    \n        case TYPES.SLL_ON_NODE_CHANGE:    \n            return {...inputData,  ...action.payload };\n        case TYPES.SLL_CLEAR_INPUT:\n            return { index: 0, value: '' };\n        default: \n            return inputData;\n    }\n}\n\nexport const stackLL =  (boxes={}, action) => {\n    \n    const stepperResult = stepper(boxes, action);\n    if(stepperResult) return {...stepperResult};\n\n    switch(action.type) {\n        case TYPES.SLL_PUSH_NODE:\n            return {  ...boxes, ...action.payload };\n        case TYPES.SLL_POP_NODE:\n            delete(boxes[action.payload])\n            return {...boxes}\n        case TYPES.SLL_CLEAR_STACKLL:\n            return {};      \n        default: \n            return boxes;\n    }\n}\n","import * as TYPES from '../actions/types'\n\nconst reset = {\n    dsName: 'avl',\n    root: null,\n    history: {},\n    mainStep: 0,\n    modeStep: 0,\n    message: '',\n    value: '',\n    deleteValue: '',\n    index: 0,\n    stepIndex: 0,\n    stepping: false,\n    stepRoot: null,\n    taskDone: true,\n    taskComplete: true,\n    done: true\n}\n\nexport const avl = (state = { ...reset }, action) => {\n    switch (action.type) {\n        case TYPES.AVLTREE_INSERT_ROOT:\n            return action.payload\n        case TYPES.AVLTREE_BALANCE_ROOT:\n            return action.payload\n        case TYPES.AVLTREE_DELETE_ROOT:\n            return action.payload\n\n        case TYPES.AVLTREE_SET_MODE:\n            return { ...state, ...action.payload }\n        case TYPES.AVLTREE_CLEAR_MODE:\n            return { ...state, mode: '', done: true }\n\n        case TYPES.AVLTREE_INSERT_INPUT_CHANGED:\n            return action.payload\n        case TYPES.AVLTREE_CLEAR_INSERT_INPUT_CHANGED:\n            return { ...state, value: '', canInsert: false }\n        case TYPES.AVLTREE_DELETE_INPUT_CHANGED:\n            return action.payload\n        case TYPES.AVLTREE_CLEAR_DELETE_INPUT:\n            return { ...state, deleteValue: '', canDelete: false, done: true }\n\n        case TYPES.AVLTREE_CLEAR_ALL:\n            return { ...reset }\n\n        case TYPES.AVLTREE_ENABLE_CONTROLS:\n            return { ...state, inputsDisabled: false }\n        case TYPES.AVLTREE_DISABLE_CONTROLS:\n            return { ...state, inputsDisabled: true }\n\n        case TYPES.AVLTREE_ENABLE_INSERT:\n            return { ...state, insertDisabled: false }\n        case TYPES.AVLTREE_DISABLE_INSERT:\n            return { ...state, insertDisabled: true }\n\n        case TYPES.AVLTREE_ENABLE_DELETE:\n            return { ...state, deleteDisabled: false }\n        case TYPES.AVLTREE_DISABLE_DELETE:\n            return { ...state, deleteDisabled: true }\n\n        case TYPES.AVLTREE_UPDATE_MSG:\n            return action.payload\n        case TYPES.AVLTREE_CLEAR_MSG:\n            return action.payload\n\n        case TYPES.AVLTREE_STEP_UP:\n            return action.payload\n        case TYPES.AVLTREE_STEP_DOWN:\n            return action.payload\n        case TYPES.AVLTREE_TOGGLE_STEPPING:\n            return action.payload\n\n        default:\n            return state\n    }\n}\n\n","import { avl } from './avlTreeReducer'\n\nexport default { avl }\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\n\nimport { Provider} from 'react-redux';\nimport { createStore, applyMiddleware, compose, combineReducers } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport history from '../../Utils/history'\n\nimport NodeLink from './StackLL';\nimport AVLTree  from './AVLTree';\n\nimport Links from '../Links'\nimport pageReducer from '../../reducer'\nimport stackLLReducer from './StackLL/reducers'\nimport avlTreeReducer from './AVLTree/reducers'\n\nimport './style.css'\n\nconst mainReducer = combineReducers(\n    { \n        ...pageReducer,\n        ...stackLLReducer, \n        ...avlTreeReducer\n     }\n)\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n    mainReducer,   \n    composeEnhancers( applyMiddleware(thunk) ) \n);\nconst displayContent = () => {\n\n    const {location:{pathname}} = history\n    \n    if(pathname === '/') history.push('/stackll')\n    \n    return ( \n        <Provider store={store}>\n            <Router history={history}>\n                <Links />\n                <Switch >\n                    <Route path=\"/stackll\" exact component={NodeLink} />\n                    <Route path=\"/avl_tree\"  exact component={AVLTree}  />\n                </Switch>\n            </Router>\n        </Provider>\n    )\n}\n\nclass App extends React.Component {\n    state = {\n        loading: true\n    }\n\n    componentDidMount() {\n        this.setState({loading: false})\n    }\n\n    render(){\n        const {loading} = this.state; \n\n        if(loading) return null \n        \n        return displayContent()  \n    }\n}\n\nexport default App;\n\n\n\n\n\n","import React, { Fragment } from 'react';\nimport ReactDom from 'react-dom';\n\nimport App from './components/d3/App'\nimport './style.css'\nimport logo from './img/React-Algo-logo.png'\n\nReactDom.render(\n    <Fragment>\n        <div className='app-name'>\n            <figure className=\"logo\">\n                <img src={logo} alt=\"Logo\"></img>\n            </figure>\n            <h1 >React-Algo</h1>\n        </div>\n        <App />\n        <footer>\n            <p className=\"footer__text\">\n                 2021 - Developed by <a href=\"https://github.com/gitAmelio\" target=\"_blank\">Amelio Croza</a>\n            </p>\n        </footer>\n    </Fragment>\n    , \n    document.querySelector('#root')\n)\n"],"sourceRoot":""}